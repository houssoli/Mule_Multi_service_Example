<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
     <head>
         <title>XAP 8.0 Documentation : Overriding Default Configuration</title>
<link rel="stylesheet" href="styles/site.css" type="text/css" />
         <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
		 <style>
.back-to {
	color: #666666;
	font-weight: bold;
}	 
a.back-to:link, a.back-to:visited, a.back-to:hover, a.back-to:active  {
	color: #666666;
}	 
		 </style>
     </head>

     <body>
<table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
<tr>
<td valign="top" class="pagebody">
<div class="pageheader">
<span class="back-to">XAP 8.0 Documentation > <a href="index.html">Back to Table of Contents</a></span><br>
<h1>Overriding Default Configuration</h1>
</div>
<br>

<script type='text/javascript'>//<![CDATA[
function debug() { }
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/browser.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/behaviour.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/memory.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/cloak.js'>//<![CDATA[
// ]]></script><script type='text/javascript'>//<![CDATA[
Cloak.closeHTML = "<img src=\'/wiki/download/resources/net.customware.confluence.plugin.composition:toggle-cloak/img/navigate_down_10.gif\'/>";
Cloak.openHTML = "<img src=\'/wiki/download/resources/net.customware.confluence.plugin.composition:toggle-cloak/img/navigate_right_10.gif\'/>";
Cloak.toggleZone = true;
Cloak.memoryDuration = 0;
Cloak.memoryPrefix = "contentId:53903415";
Cloak.memoryPath = "/wiki/";
// ]]></script><style type='text/css'>
.cloakToggle { /* Definition for state toggling image */
cursor:hand;
cursor:pointer;
}
</style><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/transitions.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/deck.js'>//<![CDATA[
// ]]></script><link rel='stylesheet' type='text/css'  href='/wiki/styles/main-action.css?pluginCompleteKey=net.customware.confluence.plugin.composition:composition-setup&stylesheetName=deck&spaceKey=XAP8'/><script type='text/javascript'>//<![CDATA[
Deck.memoryDuration = 0;
Deck.memoryPrefix = "contentId:53903415";
Deck.memoryPath = "/wiki/";
// ]]></script>


<div style="border-style:solid; border-color:#3C78B5; border-width:thin; padding-left:20px; padding-bottom:20px; padding-top:20px; padding-right:20px; background-color:#D8E4F1"> 

<p><b>Section Summary:</b>  Overriding default configuration using a properties file or the <tt>Properties</tt> Java object. </p>
</div>

<h1><a name="OverridingDefaultConfiguration-HowPropertiesAffectConfiguration"></a>How Properties Affect Configuration</h1>

<p>In GigaSpaces, properties are used to populate (or override out-of-the-box) schema file configuration parameter values (space, space container, space proxy and cluster XML/XSL schema files). In these schema files, each configuration parameter can either have an absolute value, or be populated from a property.</p>

<p><img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> <b>GigaSpaces configuration override file</b> (known as the custom properties file/object) <b>is used to override various components such as</b>: <br/>
Space, space container, cluster schema properties, space proxy, space URL attributes, and other system and environment properties.</p>

<p>Properties in configuration schemas can be populated from several sources: </p>
<ul>
	<li><a href="The Space Component.html#TheSpaceComponent-OverridingDefaultConfigurationUsingGeneralProperties">The OpenSpaces Space component configuration</a></li>
	<li>The <b>default properties file</b> (hard-coded inside the space, space container, and cluster XML/XSL schema files).</li>
	<li>A <b>custom properties file</b> (user-defined, can be loaded by the server or client startup script.</li>
	<li>A <b><tt>Java java.util.Properties</tt></b> object that is passed into the <tt>SpaceFinder</tt> call.</li>
	<li><b>System properties</b> (called in the Java command of the server startup scripts).</li>
</ul>


<h1><a name="OverridingDefaultConfiguration-OverrideConfigurationusingOpenSpacesUrlSpaceFactoryBean"></a>Override Configuration using OpenSpaces UrlSpaceFactoryBean</h1>
<p>The OpenSpaces space allows you to <a href="The Space Component.html#TheSpaceComponent-OverridingDefaultConfigurationUsingGeneralProperties">override specific schema configuration element values</a> using the <tt>Properties</tt> object, that uses an XPath-like navigation as the name value. The <tt>UrlSpaceFactoryBean</tt> allows you to set the <tt>Properties</tt> object, specifying it within the Spring configuration.</p>


<div class="panel" style="background-color: #FFFFFF;border-color: #3C78B5;border-style: solid;border-width: 1px;"><div class="panelContent" style="background-color: #FFFFFF;">
<h5><a name="OverridingDefaultConfiguration-Namespace"></a>Namespace</h5>
<hr 
 size="1" 
 color="#3C78B5" 
 >

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;os-core:space id=<span class="code-quote">"space"</span> url=<span class="code-quote">"/./space"</span>&gt;</span>
    <span class="code-tag">&lt;os-core:properties&gt;</span>
        <span class="code-tag">&lt;props&gt;</span>
            <span class="code-tag">&lt;prop key=<span class="code-quote">"space-config.serialization-type"</span>&gt;</span>1<span class="code-tag">&lt;/prop&gt;</span>
        <span class="code-tag">&lt;/props&gt;</span>
    <span class="code-tag">&lt;/os-core:properties&gt;</span>
<span class="code-tag">&lt;/os-core:space&gt;</span></pre>
</div></div> 


<h5><a name="OverridingDefaultConfiguration-PlainXML"></a>Plain XML</h5>
<hr 
 size="1" 
 color="#3C78B5" 
 >

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;bean id=<span class="code-quote">"space"</span> class=<span class="code-quote">"org.openspaces.core.space.UrlSpaceFactoryBean"</span>&gt;</span>
    <span class="code-tag">&lt;property name=<span class="code-quote">"url"</span> value=<span class="code-quote">"/./space"</span> /&gt;</span>
    <span class="code-tag">&lt;property name=<span class="code-quote">"properties"</span>&gt;</span>
        <span class="code-tag">&lt;props&gt;</span>
            <span class="code-tag">&lt;prop key=<span class="code-quote">"space-config.serialization-type"</span>&gt;</span>1<span class="code-tag">&lt;/prop&gt;</span>
        <span class="code-tag">&lt;/props&gt;</span>
    <span class="code-tag">&lt;/property&gt;</span>
<span class="code-tag">&lt;/bean&gt;</span></pre>
</div></div> 


<h5><a name="OverridingDefaultConfiguration-Code"></a>Code</h5>
<hr 
 size="1" 
 color="#3C78B5" 
 >

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">UrlSpaceConfigurer spaceConfigurer = 
              <span class="code-keyword">new</span> UrlSpaceConfigurer(<span class="code-quote">"/./space"</span>).addProperty(<span class="code-quote">"space-config.serialization-type"</span>, <span class="code-quote">"1"</span>);
IJSpace space = spaceConfigurer.space();

<span class="code-comment">// ...
</span>
<span class="code-comment">// shutting down / closing the Space
</span>spaceConfigurer.destroy();</pre>
</div></div>
</div></div>

<p><img class="emoticon" src="images/icons/emoticons/lightbulb_on.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> The GigaSpaces out-of-the-box installation provides the default <tt>&lt;GigaSpaces Root&gt;\config\gs.properties</tt> file, which is an example for a custom properties file used to override common configuration.</p>

<ul>
	<li>If a custom properties file is not loaded, and no system properties are called, the default values are used for all properties in the schema files.</li>
	<li>If a custom properties file is loaded, and no system properties are called, the values provided in the custom properties file override the default values; and properties that are not set in the custom property file still receive the default values.</li>
	<li>If a custom properties file is loaded, and system properties are called:
	<ul>
		<li>The values set in the system properties override the values in the custom properties file.</li>
		<li>If there are properties that were not set as a system property, but were set in the properties file, the properties file values are used.</li>
		<li>Properties that were set neither as a system property nor in the custom properties file get the default values.</li>
	</ul>
	</li>
	<li>If only system properties are called (and a property file is not loaded), then:
	<ul>
		<li>The values set in the system properties override the default values.</li>
		<li>Properties that were not set as a system property get the default values.</li>
		<li>If any properties were set in a custom properties file, they are not used, because the file is not loaded.</li>
	</ul>
	</li>
</ul>


<p><img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> When properties are loaded and XPath overrides are used, XPath values have the highest override priority; even if system properties are set for the same configuration element.</p>

<p><img class="emoticon" src="images/icons/emoticons/lightbulb_on.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> The properties file can be shared across all spaces and clients, and can be downloaded from an HTTP server. For example, if you want the <tt>gs.properties</tt> file to be downloaded from an HTTP server running on <tt>myhost:someport</tt>, simply add the following to the space URL:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>?properties=http://myhost:someport/somedirector/gs.properties</pre>
</div></div>

<p>Environment variables are another source for configuring property values. Remember that the GigaSpaces environment variables are loaded by the <tt>setenv.bat</tt> file. Very often, the property values set in system properties and in properties files are actually environment variables.</p>

<p><img class="emoticon" src="images/icons/emoticons/lightbulb_on.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> It is recommended to use a custom properties file or object instead of system properties, because system properties are limited to the same JVM. This might be problematic in distributed environments (Service Grid GSCs shouldn't use system properties), and requires granting of Java security permissions. You can load a custom properties file by adding <tt>?properties=propertiesFileName</tt> to your space URL. For example:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">java -classpath ${myroot}:${myclasspath} com.j_spaces.
core.client.SpaceFinder<span class="code-quote">"/./mySpace?schema=<span class="code-keyword">default</span>&amp;properties=gs"</span></pre>
</div></div>

<p>The above URL uses a file named <tt>gs.properties</tt> located under the <tt>${myroot}\config</tt> folder as the custom properties file.</p>

<h1><a name="OverridingDefaultConfiguration-CustomPropertiesFile%28%3CGigaSpacesRoot%3E%5Cconfig%5Cgs.properties%29"></a>Custom Properties File (&lt;GigaSpaces Root&gt;\config\gs.properties)</h1>

<p>A custom properties file sets custom (user-defined) values for some or all of the default space and space container configuration; values in the custom properties file override the default values. The custom values only take effect when the custom properties file is loaded explicitly.</p>

<p><img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> You can define whether to load a properties file and call system properties in the <tt>gsInstance</tt> server startup script, by adding <tt>?properties=propertiesFileName</tt> to your space URL. </p>

<p>Define the following logging levels</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">com.gigaspaces.common.spaceurl.level = ALL 
com.gigaspaces.common.resourceloader.level = FINE</pre>
</div></div>
<p>in order to verify that the properties file is found and parsed properly.</p>

<h1><a name="OverridingDefaultConfiguration-HowtooverrideConfiguration"></a>How to override Configuration</h1>

<p>GigaSpaces configuration override file is used to override various components such as the space, space container, cluster schema properties, space proxy, space URL, and other system and environment properties. </p>

<p>If a client requests to load a properties file (or passes a <tt>Properties</tt> Java object); the system attempts to load the properties file from the <tt>&lt;GigaSpaces Root&gt;\config</tt> directory (if <tt>&lt;GigaSpaces Root&gt;</tt> is in the classpath), or from an HTTP URL. If the properties file is found, it is loaded to the system, and its attributes are set in the <tt>SpaceURL</tt> properties data structure.</p>

<p>Any system property that is set overrides other settings. Then, the properties file (or a user-defined <tt>Properties</tt> object) is parsed, its properties are injected into the system, and are later used to override the space/container/cluster configuration, as well as other VM system properties.</p>

<p><b>The following types of properties are supported for the properties object/file</b>:</p>
<ul>
	<li><b>Space</b>, <b>space proxy</b>/<b>client</b>, <b>space container configuration</b> &#8211; <b>the property key is the XPath-like navigation as the name value of the element</b>, as set in the space or space container schema XML file.<br/>
Space configuration example: 
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">space-config.lrmi-stub-handler.protocol-name=rmi</pre>
</div></div>
<p>Container configuration example: </p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">com.j_spaces.core.container.directory_services.jini_lus.enabled=<span class="code-keyword">false</span></pre>
</div></div></li>
	<li><b>Cluster configuration</b> &#8211; the property key is the <b>system property</b> which needs to be set in the cluster schema XML file. For example, if you specify <tt>$elementname</tt> instead of one of the cluster configuration elements (you need to do it in advance), the user needs to set <tt>-Delementname=somevalue</tt> on the space side once the cluster starts in order to override it. <br clear="all" /> <br clear="all" />
<img class="emoticon" src="images/icons/emoticons/check.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> The ability to <b>override cluster configuration schema settings</b> using custom properties injection (through XPath settings in the <tt>gs.properties</tt> file, Java Properties object, or OpenSpaces <tt>pu.xml</tt> file) is <b>new in GigaSpaces version 6.5</b>. <br clear="all" /> <br clear="all" /></li>
	<li><b>System properties</b> &#8211; the key must begin with <tt>-D</tt>, which instructs the system to set that key/value as a system property.</li>
	<li><b><tt>SpaceURL</tt> attributes</b> &#8211; the key must begin with: <tt>gs.space.url.arg.attribute name</tt>, for example:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">gs.space.url.arg.total_members=111</pre>
</div></div>
<p>or:<br/>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">gs.space.url.arg_line=schema=persistent&amp;cluster_schema=async_replicated&amp;total_members=3&amp;id=2&amp;nowritelease=<span class="code-keyword">true</span>&amp;fifo=<span class="code-keyword">true</span>&amp;create</pre>
</div></div> <br clear="all" />
<img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> Space URL arguments should all be in lower case. <br clear="all" />
<img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> Using the <tt>$xxx</tt> setting via a system property is valid in any scenario, but is overwritten if the first option (space, space proxy/client, space container configuration) is used.</p></li>
</ul>



<div class="panel" style="background-color: #FFFFFF;border-color: #3C78B5;border-style: solid;border-width: 1px;"><div class="panelContent" style="background-color: #FFFFFF;">
<h5><a name="OverridingDefaultConfiguration-ClusterXPathProperties"></a>Cluster XPath Properties</h5>
<hr 
 size="1" 
 color="#3C78B5" 
 >

<p><img class="emoticon" src="images/icons/emoticons/lightbulb_on.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> The best practice is to use the cluster schema (which is provided out of the box) as-is, and override specific configuration elements in runtime. This ensures no changes to XML/XSL files, easier deployment/upgrades (especially in enterprise deployments), and provides a single way to override most product components. Additionally, there is usually no need for a static cluster, since the members' elements are simply overridden.</p>

<p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/> For a full list of XPath-like keys required to override cluster configuration, see the <a href="Cluster Configuration XPath Overrides.html" title="Cluster Configuration XPath Overrides">Cluster Configuration XPath Overrides</a> section.</p>

<h3><a name="OverridingDefaultConfiguration-Usage"></a>Usage</h3>

<p>You can either use a standard XPath syntax (<tt>/</tt> &#8211; slash notation) or use the GigaSpaces custom syntax (that uses an XPath-like navigation as the name value &#8211; dot notation). GigaSpaces supports the use of standard XPath syntax, using the slash syntax.</p>

<p>Every cluster configuration override must begin with <b><tt>cluster-config</tt></b> (same as with <tt>space-config</tt> for the space schema and <tt>com.j_spaces.core.container</tt> for the space container).</p>

<p>For example, if you are working with a <tt>partitioned-sync2backup</tt> cluster with 2 primaries and 1 backup for each primary, and you want to set other space URLs in the <tt>member-url</tt> element for each cluster member; set the following for each occurrence of <tt>member-url</tt>:</p>

<p>First member URL:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/cluster-config/cluster-members/member[1]/member-url=rmi:<span class="code-comment">//some_host1:10081/mySpace_container1/mySpace</span></pre>
</div></div>

<p>Second member URL:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/cluster-config/cluster-members/member[2]/member-url=rmi:<span class="code-comment">//some_host2:10082/mySpace_container1_1/mySpace</span></pre>
</div></div>

<p>Third member URL:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/cluster-config/cluster-members/member[3]/member-url=rmi:<span class="code-comment">//some_host3:10083/mySpace_container2/mySpace</span></pre>
</div></div>

<p>Forth member URL:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/cluster-config/cluster-members/member[4]/member-url=rmi:<span class="code-comment">//some_host4:10084/mySpace_container2_1/mySpace</span></pre>
</div></div>

<p>To override the load-balancer minimum thread-pool size:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">cluster-config.groups.group.load-bal-policy.proxy-broadcast-threadpool-min-size=33</pre>
</div></div>

<p>To disable notify recovery:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">cluster-config.notify-recovery=<span class="code-keyword">false</span></pre>
</div></div>

<p>To enable the failover failback option:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">cluster-config.groups.group.fail-over-policy.fail-back=<span class="code-keyword">true</span></pre>
</div></div>


<h5><a name="OverridingDefaultConfiguration-SpaceandSpaceContainerXPathProperties"></a>Space and Space Container XPath Properties</h5>
<hr 
 size="1" 
 color="#3C78B5" 
 >

<p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/> Refer to the Container Schema and Space Configuration&#42;**  sections for details.</p>

<p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/> For a full list of XPath-like keys required to override space container and space configuration, see the <a href="Space Container Configuration XPath Overrides.html" title="Space Container Configuration XPath Overrides">Space Container Configuration XPath Overrides</a> and <a href="Space Configuration XPath Overrides.html" title="Space Configuration XPath Overrides">Space Configuration XPath Overrides</a> sections.</p>

<p>To enable the cluster:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">space-config.cluster.enabled=<span class="code-keyword">true</span></pre>
</div></div>

<p>The static members cluster XML file needs to be located in the <tt>&lt;GigaSpaces Root&gt;\config</tt> directory, for example: <tt>c:\myFolder\config\multi-site</tt>, where <tt>c:\myFolder</tt> needs to include <tt>space-config.cluster.config-url=/config/multi-site</tt>.</p>

<p>To disable the <tt>RMIRegistry</tt>, which is started when setting the space container:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">com.j_spaces.core.container.directory_services.jndi.enabled=<span class="code-keyword">false</span></pre>
</div></div>

<p>To disable the GigaSpaces shutdown hook:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">com.j_spaces.core.container.shutdown_hook=<span class="code-keyword">false</span></pre>
</div></div>

<p>To disable an embedded Webster HTTPD:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">com.j_spaces.core.container.embedded-services.httpd.enabled=<span class="code-keyword">false</span></pre>
</div></div>

<p>The host port used by the server socket HTTPD (Webster): </p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">com.j_spaces.core.container.embedded-services.httpd.explicit-binding-port=9813</pre>
</div></div>
<p>Default value is port <tt>9813</tt>, however, if this port is busy, an anonymous port is generated. You can override the port number using the following settings.</p>

<p>The Jini Lookup Service settings inside the container schemas</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">com.j_spaces.core.container.directory_services.jini_lus.start-embedded-lus=<span class="code-keyword">false</span>
com.j_spaces.core.container.directory_services.jini_lus.enabled=<span class="code-keyword">false</span>
com.j_spaces.core.container.directory_services.jini_lus.unicast_discovery.enabled=<span class="code-keyword">true</span>
com.j_spaces.core.container.directory_services.jini_lus.unicast_discovery.lus_host=host:port</pre>
</div></div>

<p>If <tt>true</tt>, starts an embedded Mahalo Jini Transaction Manager. Default value is <tt>false</tt>:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">com.j_spaces.core.container.embedded-services.mahalo.start-embedded-mahalo=<span class="code-keyword">true</span></pre>
</div></div>

<p>To override the space configuration <tt>implicit-indexes</tt>, add the following line:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">space-config.number-implicit-indexes=-1</pre>
</div></div>

<p>To override the space configuration LRMI protocol:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">space-config.lrmi-stub-handler.protocol-name=rmi</pre>
</div></div>

<p>To override the space configuration serialization type add the following line:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">space-config.serialization-type=0</pre>
</div></div>

<p>Enable the space <tt>SecurityFilter</tt> by setting:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">space-config.filters.DefaultSecurityFilter.enabled=<span class="code-keyword">true</span></pre>
</div></div>

<p>If <tt>true</tt>, enables Gigaspaces JMS support by registering the JMS administrated objects in the directory service. Default value is <tt>false</tt>.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">com.j_spaces.core.container.directory_services.jms_services.enabled = <span class="code-keyword">true</span></pre>
</div></div>


<h5><a name="OverridingDefaultConfiguration-SystemProperties"></a>System Properties</h5>
<hr 
 size="1" 
 color="#3C78B5" 
 >

<p>You can set any system properties using <tt>-Delementname=somevalue</tt>.</p>

<p><img class="emoticon" src="images/icons/emoticons/warning.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> These system properties are set <b>only after the properties file is initialized and parsed</b>. Therefore, <b>system properties required to be set with the VM launch should be placed only in the Java command line</b>.</p>

<p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/> For more details, refer to the <a href="System Properties List.html" title="System Properties List">System Properties List</a> section.</p>

<p>Common RMI-related system properties &#8211; when it is necessary to ensure that DGC clean calls for unreachable remote references are delivered in a timely fashion, the value of this property represents the maximum interval (in milliseconds) that the Java RMI runtime allows between garbage collections of the local heap. </p>

<p>Default value is 60000 milliseconds (60 seconds). Below, it is set it to 1 hour.</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>-Dsun.rmi.dgc.client.gcInterval=36000000
-Dsun.rmi.dgc.server.gcInterval=36000000
-Djava.rmi.server.RMIClassLoaderSpi=default
</pre>
</div></div>

<p>If this value is <tt>true</tt>, incoming calls and exceptions thrown from incoming calls are logged to <tt>System.err</tt>. Setting this property to <tt>true</tt> greatly assists you in debugging your RMI programs.</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>-Djava.rmi.server.logCalls=true
</pre>
</div></div>

<p>If this value is <tt>true</tt>, details of RMI logging activity are sent to <tt>System.err</tt>.</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>-Dsun.rmi.log.debug=true
-Dcom.gs.onewaywrite=true
</pre>
</div></div>


<h5><a name="OverridingDefaultConfiguration-CommonDebuggingLoggingOptions"></a>Common Debugging Logging Options</h5>
<hr 
 size="1" 
 color="#3C78B5" 
 >

<p>The following prints a runtime configuration report of the overall system configuration (space, container, cluster) system environment, system properties, etc.</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>-Dcom.gs.env.report=true
</pre>
</div></div>


<h5><a name="OverridingDefaultConfiguration-SpaceURLAttributes"></a>Space URL Attributes</h5>
<hr 
 size="1" 
 color="#3C78B5" 
 >

<p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/> For more details, refer to the <a href="Space URL.html" title="Space URL">Space URL</a> section.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">gs.space.url.arg.total_members=10
gs.space.url.arg.id=2
gs.space.url.arg.schema=persistent
gs.space.url.arg.nowritelease=<span class="code-keyword">true</span></pre>
</div></div>

<p>Other optional attributes (add each to the <tt>gs.space.url.arg.</tt> prefix): </p>
<ul>
	<li><tt>backup_id</tt></li>
	<li><tt>clustergroup</tt></li>
	<li><tt>clustername</tt></li>
	<li><tt>cluster</tt></li>
	<li><tt>cluster_schema</tt></li>
	<li><tt>groups</tt></li>
	<li><tt>fifo</tt></li>
	<li><tt>updatemode</tt></li>
	<li><tt>versioned</tt></li>
	<li><tt>uselocalcache</tt></li>
	<li><tt>timeout</tt></li>
	<li><tt>securitymanager</tt></li>
	<li><tt>nocache</tt></li>
	<li><tt>create</tt></li>
	<li><tt>destroy</tt></li>
</ul>


<p>Below is an example of how to set a list of space URL attributes:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">gs.space.url.arg_line=schema=persistent&amp;id=2&amp;total_members=10&amp;Create</pre>
</div></div>


<h5><a name="OverridingDefaultConfiguration-SpaceProxyAttributes"></a>Space Proxy Attributes</h5>
<hr 
 size="1" 
 color="#3C78B5" 
 >

<p>The following defines the maximum thread pool size used by the proxy for FIFO and batch notifications:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">space-config.proxy.notify.maxThreadPoolSize=20</pre>
</div></div>

<p>The following defines the minimum thread pool size used by the proxy for FIFO and batch notifications:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">space-config.proxy.notify.minThreadPoolSize=10</pre>
</div></div>
</div></div>
<h1><a name="OverridingDefaultConfiguration-Defaultgs.propertiesFileExample"></a>Default gs.properties File Example</h1>

<p>When specifying a space URL, you can use the properties file, or include the <tt>&lt;properties&gt;</tt> tag in your container schema. This should include a properties file location with a list of properties that override the cluster, container, and space default values as discussed above.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">#================================================================================================================
# Refer to wiki docs <span class="code-keyword">for</span> more information. 
#
# GigaSpaces configuration overriding file is used to override various components such as the 
# space, space container, cluster schema properties, as well as space proxy, space url 
# and other system and environment properties.
#
# The best practices is to use the schema files (that comes of of the box) as is and override
# specific configuration elements in runtime. It minimizes changes to xml/xsl files, ease 
# deployment/upgrades (especially in enterprise deployments) and provides single means <span class="code-keyword">for</span> overriding 
# most of the product components. It also removes the need <span class="code-keyword">for</span> <span class="code-keyword">static</span> cluster <span class="code-keyword">for</span> most cases, 
# by simply override the members elements. Properties can also be set through the OpenSpaces pu.xml file.
#
# If a client has requested to load a properties file 
#(or passed a Properties Java object), the system attempts to load the properties file from the 
# &lt;GigaSpaces Root&gt;\config directory (<span class="code-keyword">if</span> &lt;GigaSpaces Root&gt; is in the classpath), or from an HTTP URL. 
# If the properties file is found, it is loaded to the system, and its attributes are set in the 
# SpaceURL properties data structure.
# Any system property that is set overrides other settings. Then, the properties are parsed and its 
# properties injected into the system and are later used to override the space/container/cluster configuration, 
# as well as other VM system properties.


# Supported Types of Properties <span class="code-keyword">for</span> Properties <span class="code-object">Object</span>/File:
# ========================================================
# * Space, space proxy/client, space container configuration - the property key is the XPath-like 
# navigation as the name value of the element as set in the space or space container schema XML file.
# * Cluster configuration - the property key is the system property which needs to be set 
# in the cluster schema XML file, e.g. <span class="code-keyword">if</span> you specify $elementname instead of one of the cluster config elements 
# (you need to <span class="code-keyword">do</span> it in advance), then in order to override it, user needs to set -Delementname=somevalue in 
# the space side once the cluster starts.
# 
# The ability to override cluster configuration schema settings using custom properties injection 
# (through a XPath set in the gs.properties file, Java Properties object or OpenSpaces PU xml file) 
# is <span class="code-keyword">new</span> in GigaSpaces version 6.5.
# * <span class="code-object">System</span> properties - the key must begin with -D, which instructs the system to set that key/value 
# as a system property.
# * SpaceURL attributes - the key must begin with: gs.space.url.arg.attribute name. The space URL arguments 
# should be all in lower <span class="code-keyword">case</span>. Using of the $xxx setting via a system property is valid in any scenario, 
# but is overwritten <span class="code-keyword">if</span> the first option (space, space proxy/client, space container configuration) is used.
#
# * When Properties are loaded and XPath overrides are used, they will be with highest override priority, 
# even <span class="code-keyword">if</span> <span class="code-object">System</span> Properties are set <span class="code-keyword">for</span> same configuration element.
# * The Properties file can be shared cross all spaces and clients and put under http server. 
# If you want to have the gs.properties file to be downloaded from an http server running on myhost:someport 
# then simply add the following to the SpaceURL: ?properties=http:<span class="code-comment">//myhost:someport/somedirector/gs.properties
</span>#

#===================================================
# Cluster Configuration XPath:
#===================================================
# You can either use a standard XPath syntax (<span class="code-quote">"/"</span> slash notation) or use same GigaSpaces custom syntax 
# (that uses an XPath-like navigation as the name value - <span class="code-quote">"dot"</span> notation)
# 
# Every cluster configuration override must start with cluster-config (same as with space-config <span class="code-keyword">for</span> 
# space schema and com.j_spaces.core.container <span class="code-keyword">for</span> space container).
# Supporting using standard XPath syntax, using the slash syntax - 
# E.g. If we have a partitioned-sync2backup 2,1 cluster with 2 primaries and 1 backup per each primary 
# and we want to set other space urls in the &lt;member-url&gt; <span class="code-keyword">for</span> each cluster member, 
# we will set the following <span class="code-keyword">for</span> each of the occurrences of the member-url:

# For the first member-url
#/cluster-config/cluster-members/member[1]/member-url=rmi:<span class="code-comment">//some_host1:10081/mySpace_container1/mySpace
</span># For the second member-url
#/cluster-config/cluster-members/member[2]/member-url=rmi:<span class="code-comment">//some_host2:10082/mySpace_container1_1/mySpace
</span># For the third member-url
#/cluster-config/cluster-members/member[3]/member-url=rmi:<span class="code-comment">//some_host3:10083/mySpace_container2/mySpace
</span># For the forth member-url
#/cluster-config/cluster-members/member[4]/member-url=rmi:<span class="code-comment">//some_host4:10084/mySpace_container2_1/mySpace
</span>
## Usage examples of the XPath-like navigation to override cluster configuration
#cluster-config.notify-recovery=<span class="code-keyword">false</span>
#cluster-config.groups.group.load-bal-policy.proxy-broadcast-threadpool-min-size=33
#cluster-config.groups.group.fail-over-policy.fail-back=<span class="code-keyword">true</span>
#cluster-config.cache-loader.external-data-source=<span class="code-keyword">true</span>
#-Dcom.gs.cluster.cache-loader.external-data-source=<span class="code-keyword">true</span>
#cluster-config.groups.group.repl-policy.sync-replication.multicast.ip-group=10.9.8.7

#
#===================================================
# Space and Space Container XPath:
#===================================================
## Cluster config related settings in space schema:
# To enable the cluster 
#space-config.cluster.enabled=<span class="code-keyword">true</span>
#The <span class="code-keyword">static</span> members cluster xml file needs to be located in &lt;root dir&gt;/config folder, e.g. 
#c:/myFloder/config/multi-site and the c:/myFloder needs to be added
#space-config.cluster.config-url=/config/multi-site
#### Examples <span class="code-keyword">for</span> other optional cluster config urls:
#space-config.cluster.config-url=/config/myTest-cluster-config.xml /config/myTest2-cluster.xml 
#space-config.cluster.config-url=D:\\myFolder\\config\\<span class="code-keyword">default</span>-cluster.xml
#space-config.cluster.config-url=/config/<span class="code-keyword">default</span>
#space-config.cluster.config-url=/config/myAsyncRepl-cluster.xml
# To disable GigaSpaces shutdown hook
#com.j_spaces.core.container.shutdown_hook=<span class="code-keyword">false</span>
#
# To disable embedded Webster HTTPD.
#com.j_spaces.core.container.embedded-services.httpd.enabled=<span class="code-keyword">false</span>

# The host and port the server socket HTTPD (Webster) is using is bound to.  
# Default value: port 9813 but <span class="code-keyword">if</span> that is busy it generates an anonymous port. 
# Using the following you may override the port number: 
# com.j_spaces.core.container.embedded-services.httpd.explicit-binding-port=9813
##### Jini Lookup service container config related:
#com.j_spaces.core.container.directory_services.jini_lus.start-embedded-lus=<span class="code-keyword">false</span>
#com.j_spaces.core.container.directory_services.jini_lus.enabled=<span class="code-keyword">false</span>
#com.j_spaces.core.container.directory_services.jini_lus.unicast_discovery.enabled=<span class="code-keyword">true</span>
#com.j_spaces.core.container.directory_services.jini_lus.unicast_discovery.lus_host=host:port

# If <span class="code-keyword">true</span>, will start an embedded Mahalo Jini Transaction Manager. Default value: <span class="code-keyword">false</span>
#com.j_spaces.core.container.embedded-services.mahalo.start-embedded-mahalo=<span class="code-keyword">true</span>

#to override the space config implicit-indexes just add the line:
#space-config.number-implicit-indexes=-1

#to override the space config lrmi protocol
#space-config.lrmi-stub-handler.protocol-name=rmi

#to override the space config serialization-type just add the line:
#space-config.serialization-type=0

# Enable the space SecurityFilter by setting:
#space-config.filters.DefaultSecurityFilter.enabled=<span class="code-keyword">true</span>

# Turn on the jms services - <span class="code-keyword">if</span> <span class="code-keyword">true</span> we enable Gigaspaces jms support by registering the jms administrated objects
# in the directory service. Default value: <span class="code-keyword">false</span>
#com.j_spaces.core.container.directory_services.jms_services.enabled = <span class="code-keyword">true</span>

#===================================================
# SYSTEM PROPERTIES:
#===================================================
# RECOMMENDED: Common RMI related system properties settings
#
#When it is necessary to ensure that DGC clean calls <span class="code-keyword">for</span> unreachable remote references 
#are delivered in a timely fashion, the value of <span class="code-keyword">this</span> property represents the maximum interval 
#(in milliseconds) that the Java RMI runtime will allow between garbage collections of the local heap. 
#The <span class="code-keyword">default</span> value is 60000 milliseconds (60 seconds). We set it to 1 hour.
#-Dsun.rmi.dgc.client.gcInterval=36000000
#-Dsun.rmi.dgc.server.gcInterval=36000000
#-Djava.rmi.server.RMIClassLoaderSpi=<span class="code-keyword">default</span>
#<span class="code-keyword">if</span> <span class="code-keyword">this</span> value is <span class="code-keyword">true</span>, incoming calls and exceptions thrown from incoming calls will be logged to <span class="code-object">System</span>.err. 
#Setting <span class="code-keyword">this</span> property to <span class="code-keyword">true</span> will greatly assist you in debugging your RMI programs.
#-Djava.rmi.server.logCalls=<span class="code-keyword">true</span>
#If <span class="code-keyword">this</span> value is <span class="code-keyword">true</span>, details of rmid's logging activity are sent to <span class="code-object">System</span>.err.
#-Dsun.rmi.log.debug=<span class="code-keyword">true</span>
#-Dcom.gs.onewaywrite=<span class="code-keyword">true</span>
## Common debugging logging options:
#-Djava.security.debug=access
#-Dnet.jini.discovery.debug=1
# <span class="code-object">Runtime</span> configuration report of the overall system configurations (spaces, container, cluster)
# system env, system properties etc.
#-Dcom.gs.env.report=<span class="code-keyword">true</span>
# Prints the cluster schema and configuration report
#-Dcom.gs.clusterXML.debug=<span class="code-keyword">true</span>

#===================================================
# Space URL attributes:
#===================================================
#gs.space.url.arg.total_members=10
#gs.space.url.arg.id=2
#gs.space.url.arg.schema=persistent
#gs.space.url.arg.nowritelease=<span class="code-keyword">true</span>
#Other optional attributes (add each to the gs.space.url.arg. prefix):
#backup_id, clustergroup, clustername, cluster, cluster_schema, groups, fifo
#updatemode, versioned, uselocalcache, timeout, securitymanager, nocache, create, destroy
# Example how to set a list of Space URL attributes:
#gs.space.url.arg_line=schema=persistent&amp;id=2&amp;total_members=10&amp;Create</pre>
</div></div>

<p>***Link required</p>

                     </td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td height="12" background="http://www.gigaspaces.com/wiki/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
</tr>
<tr>
<td align="center"><font color="grey"><a href="http://www.gigaspaces.com">GigaSpaces.com</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xwBmAg" class="smalltext">Legal Notice</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xgBmAg" class="smalltext">3rd Party Licenses</a> -
		<a href="http://www.gigaspaces.com/wiki/x/BQFmAg" class="smalltext">Site Map</a> -
		<a href="http://www.gigaspaces.com/wiki/display/API/API+Documentation+Portal" class="version-link">API Docs</a> -
		<a href="http://forum.openspaces.org/forum.jspa?forumID=175" class="version-link">Forum</a> -
		<a href="http://www.gigaspaces.com/LatestProductVersion" class="version-link">Downloads</a> -
		<a href="http://blog.gigaspaces.com/" class="version-link">Blog</a> -
		<a href="http://www.gigaspaces.com/os_papers.html" class="version-link">White Papers</a> -
		<a href="mailto:techw@gigaspaces.com">Contact Tech Writing</a> -
		<i><a href="http://www.atlassian.com/software/confluence">Gen. by Atlassian Confluence</a></i></font></td>
</tr>
</table>
     </body>
</html>
