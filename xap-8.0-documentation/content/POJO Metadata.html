<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
     <head>
         <title>XAP 8.0 Documentation : POJO Metadata</title>
<link rel="stylesheet" href="styles/site.css" type="text/css" />
         <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
		 <style>
.back-to {
	color: #666666;
	font-weight: bold;
}	 
a.back-to:link, a.back-to:visited, a.back-to:hover, a.back-to:active  {
	color: #666666;
}	 
		 </style>
     </head>

     <body>
<table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
<tr>
<td valign="top" class="pagebody">
<div class="pageheader">
<span class="back-to">XAP 8.0 Documentation > <a href="index.html">Back to Table of Contents</a></span><br>
<h1>POJO Metadata</h1>
</div>
<br>

<script type='text/javascript'>//<![CDATA[
function debug() { }
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/browser.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/behaviour.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/memory.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/cloak.js'>//<![CDATA[
// ]]></script><script type='text/javascript'>//<![CDATA[
Cloak.closeHTML = "<img src=\'/wiki/download/resources/net.customware.confluence.plugin.composition:toggle-cloak/img/navigate_down_10.gif\'/>";
Cloak.openHTML = "<img src=\'/wiki/download/resources/net.customware.confluence.plugin.composition:toggle-cloak/img/navigate_right_10.gif\'/>";
Cloak.toggleZone = true;
Cloak.memoryDuration = 0;
Cloak.memoryPrefix = "contentId:53903532";
Cloak.memoryPath = "/wiki/";
// ]]></script><style type='text/css'>
.cloakToggle { /* Definition for state toggling image */
cursor:hand;
cursor:pointer;
}
</style><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/transitions.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/deck.js'>//<![CDATA[
// ]]></script><link rel='stylesheet' type='text/css'  href='/wiki/styles/main-action.css?pluginCompleteKey=net.customware.confluence.plugin.composition:composition-setup&stylesheetName=deck&spaceKey=XAP8'/><script type='text/javascript'>//<![CDATA[
Deck.memoryDuration = 0;
Deck.memoryPrefix = "contentId:53903532";
Deck.memoryPath = "/wiki/";
// ]]></script>

<div style="border-style:solid; border-color:#3C78B5; border-width:thin; padding-left:20px; padding-bottom:20px; padding-top:20px; padding-right:20px; background-color:#D8E4F1"> 

<p><b>Section Summary:</b>  GigaSpaces JavaSpaces API Plain Old Java Object support - the <a href="http://en.wikipedia.org/wiki/Plain_Old_Java_Object">POJO</a>. This advanced section deals with the annotations and gs.xml mapping file, ways for troubleshooting, considerations, ID generation and usage as well as frequently used code snippets. </p>
</div>
<h1><a name="POJOMetadata-POJOAnnotationsandXMLSpaceMapping%28gs.xml%29FileElements"></a>POJO Annotations and XML Space Mapping (gs.xml) File Elements</h1>
<p><a name="POJOMetadata-1"></a></p>

<p>GigaSpaces supports class and field-level annotations. You can define common behavior for all class instances, and specific behavior for class fields.</p>

<div class='panelMacro'><table class='infoMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>The Java Annotations is supported since JVM 1.5. For JVM 1.4, you will need to use the XML space mapping (gs.xml) file. </td></tr></table></div>


<div class="panel" style="background-color: #FFFFFF;border-color: #3C78B5;border-style: solid;border-width: 1px;"><div class="panelContent" style="background-color: #FFFFFF;">
<h5><a name="POJOMetadata-Annotations"></a>Annotations</h5>
<hr 
 size="1" 
 color="#3C78B5" 
 >


<div class="error"><span class="error">Error formatting macro: toc-zone: java.lang.NullPointerException</span> 

<h2><a name="POJOMetadata-ClassLevelAnnotation@SpaceClass"></a>Class Level Annotation &#8211; @SpaceClass</h2>

<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Annotation Element Name </th>
<th class='confluenceTh'> Type </th>
<th class='confluenceTh'> Description </th>
<th class='confluenceTh'> Default Value </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>replicate</tt> </td>
<td class='confluenceTd'> boolean </td>
<td class='confluenceTd'> When running in a partial replication mode, a <b><tt>false</tt></b> value for this property will not replicates all objects from this class type to the replica space or backup space. To run in a partial replication mode deploy the space cluster using the following property: <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;os-core:space id=<span class="code-quote">"space"</span> url=<span class="code-quote">"/./space"</span> no-write-lease=<span class="code-quote">"<span class="code-keyword">true</span>"</span>&gt;
 &lt;os-core:properties&gt;
  &lt;props&gt;
   &lt;prop key=<span class="code-quote">"cluster-config.groups.group.repl-policy.policy-type"</span>&gt;
      partial-replication
   &lt;/prop&gt;   
  &lt;/props&gt;
 &lt;/os-core:properties&gt;
&lt;/os-core:space&gt;</pre>
</div></div>. </td>
<td class='confluenceTd'> <tt>true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>persist</tt> </td>
<td class='confluenceTd'> boolean </td>
<td class='confluenceTd'> When a space is defined as persistent, a <tt>true</tt> value for this annotation persists objects of this type. <p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/> For more details, refer to the <a href="Persistency.html" title="Persistency">Persistency</a> section.</p> </td>
<td class='confluenceTd'> <tt>true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>fifoSupport</tt> </td>
<td class='confluenceTd'> enum of <tt>FifoSupport</tt> </td>
<td class='confluenceTd'> To enable FIFO operations, set this attribute to <tt>FifoSupport.OPERATION</tt>. <p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/> For more details, refer to the <a href="FIFO Support.html" title="FIFO Support">FIFO operations</a> section.</p> </td>
<td class='confluenceTd'> <tt>FifoSupport.NOT_SET</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>includeProperties</tt> </td>
<td class='confluenceTd'> String </td>
<td class='confluenceTd'> <tt>IncludeProperties.IMPLICIT</tt> takes into account all POJO fields &#8211; even if a <tt>get</tt> method is not declared with a <tt>@SpaceProperties</tt> annotation, it is taken into account as a space field. <br clear="all" /> <br clear="all" />
 <tt>IncludeProperties.EXPLICIT</tt> takes into account only the <tt>get</tt> methods which are declared with a <tt>@SpaceProperties</tt> annotation. </td>
<td class='confluenceTd'> <tt>IMPLICIT</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>inheritIndexes</tt> </td>
<td class='confluenceTd'> <tt>boolean</tt> </td>
<td class='confluenceTd'> Whether to use the class indexes list only, or to also include the superclass' indexes. <br clear="all" />
If the class does not define indexes, superclass indexes are used. <br clear="all" />
Options:
<ul>
	<li><tt>false</tt> &#8211; class indexes only.</li>
	<li><tt>true</tt> &#8211; class indexes and superclass indexes.</li>
</ul>
</td>
<td class='confluenceTd'> <tt>true</tt> </td>
</tr>
</tbody></table>

<h2><a name="POJOMetadata-FieldLevelAnnotation@SpaceProperty"></a>Field Level Annotation &#8211; @SpaceProperty</h2>

<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Element </th>
<th class='confluenceTh'> Type </th>
<th class='confluenceTh'> Description </th>
<th class='confluenceTh'> Default Value </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>nullValue</tt> </td>
<td class='confluenceTd'> String </td>
<td class='confluenceTd'> Specifies that a value be treated as <tt>null</tt>. </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
</tbody></table>

<p>example: </p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">@SpaceProperty(nullValue=<span class="code-quote">"-1"</span> )
<span class="code-keyword">public</span> <span class="code-object">int</span> getEmployeeID()
{
	<span class="code-keyword">return</span> employeeID;
}</pre>
</div></div>

<p>where <tt>-1</tt> functions as a <tt>null</tt> value. </p>

<h2><a name="POJOMetadata-FieldLevelDecoration@SpaceId"></a>Field Level Decoration &#8211; @SpaceId</h2>

<p>The space mapping file element name for <tt>@SpaceId</tt> is <tt>id</tt> (see <a href="#POJOMetadata-1">below</a>).</p>

<p>Defines whether this field value is used when generating the Object ID. The field value should be unique &#8211; i.e., no multiple objects with the same value should be written into the space (each object should have a different field value). When writing an object into the space with an existing <tt>id</tt> field value, an <tt>EntryAlreadyInSpaceException</tt> is thrown. The Object ID is created, based on the <tt>id</tt> field value.</p>

<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td> The <tt>@SpaceID</tt> annotation cannot be used with multiple fields. You may specify only <b>one</b> field to be used as the <tt>@SpaceId</tt> field. </td></tr></table></div>

<p>If <tt>autoGenerate</tt> is declared as <tt>false</tt>, the field is indexed automatically. If <tt>autoGenerate</tt> is declared as <tt>true</tt>, the field isn't indexed.<br/>
If <tt>autoGenerate</tt> is <tt>true</tt>, the field must be of the type <tt>java.lang.String</tt>.</p>

<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Element </th>
<th class='confluenceTh'> Type </th>
<th class='confluenceTh'> Description </th>
<th class='confluenceTh'> Default Value </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>autoGenerate</tt> </td>
<td class='confluenceTd'> boolean </td>
<td class='confluenceTd'> Specifies if the object ID is generated automatically by the space when written into the space. If <tt>false</tt>, the field is indexed automatically, and if <tt>true</tt>, the field isn't indexed </td>
<td class='confluenceTd'> <tt>false</tt> </td>
</tr>
</tbody></table>

<p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/> For more details, see the <a href="Space Object ID Operations.html" title="Space Object ID Operations">Space Object ID Operations</a> section.</p>

<h2><a name="POJOMetadata-FieldLevelDecoration@SpaceIndex"></a>Field Level Decoration &#8211; @SpaceIndex</h2>
<p>Querying indexed fields speeds up read and take operations. The <tt>@SpaceIndex</tt> annotation should be used to specify an indexed field. The <tt>@SpaceIndex</tt> has two attributes:<b>type</b> and <b>path</b>.</p>
<ul class="alternate" type="square">
	<li>The index type is determined by the <tt>SpaceIndexType</tt> enumeration. This is a mandatory attribute when using the <tt>@SpaceIndex</tt> annotation. The index types options are:
	<ul class="alternate" type="square">
		<li>BASIC - This index speeds up equality matches (equal to/not equal to).</li>
		<li>EXTENDED - This index speeds up comparison matches (bigger than/less than).</li>
		<li>NONE - Indicates no index type is set, and default should be used.</li>
	</ul>
	</li>
	<li>The <tt>path()</tt> attribute represents the path of the indexed property within a nested object.</li>
</ul>


<p>Examples:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeHeader panelHeader" style="border-bottom-width: 1px;"><b>The @SpaceIndex example</b></div><div class="codeContent panelContent">
<pre class="code-java">@SpaceClass
<span class="code-keyword">public</span> class Person
{
    <span class="code-keyword">private</span> <span class="code-object">String</span> lastName;
    <span class="code-keyword">private</span> <span class="code-object">String</span> firstName;
    <span class="code-keyword">private</span> <span class="code-object">Integer</span> age;

    ...
    @SpaceIndex(type=SpaceIndexType.BASIC)
    <span class="code-keyword">public</span> <span class="code-object">String</span> getFirstName() {<span class="code-keyword">return</span> firstName;}
    <span class="code-keyword">public</span> void setFirstName(<span class="code-object">String</span> firstName) {<span class="code-keyword">this</span>.firstName = firstName;}


    @SpaceIndex(type=SpaceIndexType.EXTENDED)
    <span class="code-keyword">public</span> <span class="code-object">String</span> getAge() {<span class="code-keyword">return</span> age;}
    <span class="code-keyword">public</span> void setAge(<span class="code-object">String</span> age) {<span class="code-keyword">this</span>.age = age;}
}</pre>
</div></div>


<div class="code panel" style="border-width: 1px;"><div class="codeHeader panelHeader" style="border-bottom-width: 1px;"><b>The @SpaceIndex using path example</b></div><div class="codeContent panelContent">
<pre class="code-java">@SpaceClass
<span class="code-keyword">public</span> <span class="code-keyword">static</span> class Person {
    <span class="code-keyword">private</span> <span class="code-object">int</span> id;
    <span class="code-keyword">private</span> Info personalInfo;
    <span class="code-keyword">private</span> <span class="code-object">String</span> description;
    <span class="code-comment">//getter and setter methods
</span>    ... 

    <span class="code-comment">// <span class="code-keyword">this</span> defines and EXTENDED index on the personalInfo.socialSecurity property
</span>    @SpaceIndex(path = <span class="code-quote">"socialSecurity"</span>, type = SpaceIndexType.EXTENDED)
    <span class="code-keyword">public</span> Info getPersonalInfo() {
         <span class="code-keyword">return</span> personalInfo;
    }
}

<span class="code-keyword">public</span> <span class="code-keyword">static</span> class Info <span class="code-keyword">implements</span> Serializable {
	<span class="code-keyword">private</span> <span class="code-object">String</span> name;
	<span class="code-keyword">private</span> Date birthday;
	<span class="code-keyword">private</span> <span class="code-object">long</span> socialSecurity;
	<span class="code-comment">//getter and setter methods
</span>}</pre>
</div></div>

<p><img class="emoticon" src="images/icons/emoticons/warning.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> See the <a href="Indexing.html" title="Indexing">Indexing</a> section for details.</p>

<div class='panelMacro'><table class='noteMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>It is highly recommended to index fields used for matching/query. Without the proper index (BASIC or EXTENDED ), the read/readMultiple/take/takeMultiple operations response time might be affected.</td></tr></table></div>

<h2><a name="POJOMetadata-FieldLevelDecoration@SpaceVersion"></a>Field Level Decoration &#8211; @SpaceVersion</h2>

<p>This specifies a get method for holding the version ID. This field should be an <tt>int</tt> data type.</p>

<p><img class="emoticon" src="images/icons/emoticons/warning.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> The <tt>@SpaceVersion</tt> must be an <tt>int</tt> data type.</p>

<h2><a name="POJOMetadata-FieldLevelDecoration@SpacePersist"></a>Field Level Decoration - @SpacePersist</h2>

<p>This specifies a getter method for holding the persistency mode of the object overriding the class level <tt>persist</tt> declaration. This field should be of the <tt>boolean</tt> data type.<br/>
If the <tt>persist</tt> class level annotation is <tt>true</tt>, all objects of this class type will be persisted into the underlying data store (Mirror, ExternalDataSource, Storage Adapter).</p>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>When using this option, you must have the space class level <tt>persist</tt> decoration specified.</td></tr></table></div>

<h2><a name="POJOMetadata-FieldLevelDecoration@SpaceRouting"></a>Field Level Decoration - @SpaceRouting</h2>

<p>The <tt>@SpaceRouting</tt> annotation specifies a get method for the field to be used to calculate the target space for the space operation (read , write...). The <tt>@SpaceRouting</tt> field value hash code is used to calculate the target space when the space is running in <b>partitioned mode</b>.<br/>
See more details at the <a href="Data-Partitioning.html" title="Data-Partitioning">Data&#45;Partitioning</a> section.</p>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>For details about scaling a running space cluster <b>in runtime</b> see the <a href="http://www.gigaspaces.com/wiki/display/SBP/Moving+into+Production+Checklist#MovingintoProductionChecklist-RebalancingDynamicRepartitioning">Dynamic Partitioning</a> section. </td></tr></table></div>

<p><a name="POJOMetadata-SpaceLeaseExpiration"></a></p>
<h2><a name="POJOMetadata-FieldLevelDecoration@SpaceLeaseExpiration"></a>Field Level Decoration - @SpaceLeaseExpiration</h2>

<p>The <tt>@SpaceLeaseExpiration</tt> annotation specifies a get and a set method for holding the timestamp of when the instance's lease expires (this is a standard Java timestamp based on the 1/1/1970 epoch). This property should not be populated by the user code. The space will populate this property automatically based on the lease time given by the user when writing the object. <br/>
When using an external data source, you can choose to persist this value to the database. Subsequently, when data is reloaded from the external data source (at startup time for example), the space will filter out instances whose lease expiration timestamp has already passed. This field should be a <tt>long</tt> data type.</p>

<p>Here is how you can load an object into the space via the External Data source with a specific lease: <br/>
Have the <tt>@SpaceLeaseExpiration</tt> decoration on a getter method for a field that will hold the object lease. Usually this will be set by GigaSpaces , but when loading the object you will set it yourself.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">@SpaceClass (persist=<span class="code-keyword">true</span>)
<span class="code-keyword">public</span> class MyData {
    <span class="code-keyword">private</span> <span class="code-object">long</span> lease;
	.............

    @SpaceLeaseExpiration
    <span class="code-keyword">public</span> <span class="code-object">long</span> getLease()
    {
        <span class="code-keyword">return</span> lease;
    }
    <span class="code-keyword">public</span> void setLease(<span class="code-object">long</span> lease) {
        <span class="code-keyword">this</span>.lease = lease;
    }
}</pre>
</div></div> 

<p>when loading the object into the space via the External Data source you should set this field lease value - with the example below the loaded object lease will be 10 seconds:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"><span class="code-keyword">public</span> DataIterator&lt;MyData&gt; initialLoad() <span class="code-keyword">throws</span> DataSourceException {
    List&lt;MyData&gt; initData = <span class="code-keyword">new</span> ArrayList&lt;MyData&gt;();
    <span class="code-comment">// load the space with some data
</span>    MyData obj = <span class="code-keyword">new</span> MyData();
    obj.setWhatEver(...);
    obj.setLease(<span class="code-object">System</span>.currentTimeMillis() + 10000);
    initData.add(obj);
    <span class="code-keyword">return</span> <span class="code-keyword">new</span> MyDataIterator(initData);
}</pre>
</div></div> 

<p>Once an object has been loaded/written into the space you can also change the lease using the <tt>Gigaspace. write(T entry, long lease, long timeout, int modifiers)</tt> method.</p>

<h2><a name="POJOMetadata-FieldLevelDecoration@SpaceExclude"></a>Field Level Decoration - @SpaceExclude</h2>

<p>The <tt>@SpaceExclude</tt> annotation instructs the client to ignore the fields using this annotation, so that they are not stored within the space.</p>
<ul>
	<li>When <tt>IncludeProperties</tt> is defined as <tt>IMPLICIT</tt> as part of the <a href="#POJOMetadata-1">@SpaceClass annotation</a>, <tt>@SpaceExclude</tt> should usually be used. This is because <tt>IMPLICIT</tt> instructs the system to take all POJO fields into account.</li>
	<li>When <tt>IncludeProperties</tt> is defined as <tt>EXPLICIT</tt>, there is no need to use <tt>@SpaceExclude</tt>.</li>
	<li><tt>@SpaceExclude</tt> can still be used, even if <tt>IncludeProperties</tt> is not defined.</li>
</ul>


<h2><a name="POJOMetadata-POJOClassExamplePersonandEmployee"></a>POJO Class Example &#8211; Person and Employee</h2>

<p>This example uses the <tt>@SpaceId</tt>, <tt>@SpaceRouting</tt>, <tt>@SpaceClass</tt>, <tt>replicate</tt>, <tt>persist</tt>, <tt>@SpaceVersion</tt>, <tt>@SpaceProperty</tt> and <tt>SpaceIndex</tt> annotations as part of the <tt>Person</tt> and <tt>Employee</tt> classes:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeHeader panelHeader" style="border-bottom-width: 1px;"><b>Person</b></div><div class="codeContent panelContent">
<pre class="code-java"><span class="code-keyword">package</span> com.j_spaces.examples.hellospacepojo;
<span class="code-keyword">import</span> com.gigaspaces.annotation.pojo.*;

@SpaceClass(replicate=<span class="code-keyword">true</span>,persist=<span class="code-keyword">false</span>)
<span class="code-keyword">public</span> class Person {
    <span class="code-keyword">private</span> <span class="code-object">String</span>	lastName;
    <span class="code-keyword">private</span> <span class="code-object">String</span>	firstName;
    <span class="code-keyword">public</span> Person(){}
    <span class="code-keyword">public</span> Person(<span class="code-object">String</span> lastName, <span class="code-object">String</span> firstName){
        <span class="code-keyword">this</span>.lastName = lastName;
        <span class="code-keyword">this</span>.firstName = firstName;
    }
    @SpaceIndex(type=SpaceIndexType.BASIC)
    <span class="code-keyword">public</span> <span class="code-object">String</span> getFirstName(){<span class="code-keyword">return</span> firstName;}
    <span class="code-keyword">public</span> void setFirstName(<span class="code-object">String</span> firstName)
          {<span class="code-keyword">this</span>.firstName = firstName;}
    <span class="code-keyword">public</span> <span class="code-object">String</span> getLastName(){<span class="code-keyword">return</span> lastName;}
    <span class="code-keyword">public</span> void setLastName(<span class="code-object">String</span> name) {<span class="code-keyword">this</span>.lastName = name;}
}</pre>
</div></div>

<div class="code panel" style="border-width: 1px;"><div class="codeHeader panelHeader" style="border-bottom-width: 1px;"><b>Employee</b></div><div class="codeContent panelContent">
<pre class="code-java"><span class="code-keyword">package</span> com.j_spaces.examples.hellospacepojo;

<span class="code-keyword">import</span> com.gigaspaces.annotation.pojo.SpaceClass;
<span class="code-keyword">import</span> com.gigaspaces.annotation.pojo.SpaceId;
<span class="code-keyword">import</span> com.gigaspaces.annotation.pojo.SpaceRouting;
<span class="code-keyword">import</span> com.gigaspaces.annotation.pojo.SpaceVersion;

@SpaceClass(replicate=<span class="code-keyword">true</span>,persist=<span class="code-keyword">false</span>)
<span class="code-keyword">public</span> class Employee <span class="code-keyword">extends</span> Person
{
    <span class="code-keyword">private</span> <span class="code-object">Integer</span> employeeID;
    <span class="code-keyword">private</span> <span class="code-object">int</span> versionID;
	
    <span class="code-keyword">public</span> Employee(){}
    <span class="code-keyword">public</span> Employee(<span class="code-object">Integer</span> employeeID) {
        <span class="code-keyword">this</span>.employeeID = employeeID;
    }
    <span class="code-keyword">public</span> Employee(<span class="code-object">String</span> lastName, <span class="code-object">Integer</span> employeeID) {
        <span class="code-keyword">this</span>.employeeID = employeeID;
        setLastName(lastName);
    }
	
    @SpaceId
    @SpaceRouting
    <span class="code-keyword">public</span> <span class="code-object">Integer</span> getEmployeeID(){<span class="code-keyword">return</span> employeeID;}

    <span class="code-keyword">public</span> void setEmployeeID(<span class="code-object">Integer</span> employeeID) {
        <span class="code-keyword">this</span>.employeeID = employeeID;
    }
    <span class="code-keyword">public</span> <span class="code-object">String</span> toString() {
        <span class="code-keyword">return</span> <span class="code-keyword">super</span>.toString() + <span class="code-quote">", \temployeeID: "</span>+ employeeID ;
    }

    @SpaceVersion
    <span class="code-keyword">public</span> <span class="code-object">int</span> getVersionID() {<span class="code-keyword">return</span> versionID;}
    <span class="code-keyword">public</span> void setVersionID(<span class="code-object">int</span> versionID) {<span class="code-keyword">this</span>.versionID = versionID;}
}</pre>
</div></div>
</div>





<h5><a name="POJOMetadata-SpaceMappingXMLFilegs.xml"></a>Space Mapping XML File &#8211; gs.xml</h5>
<hr 
 size="1" 
 color="#3C78B5" 
 >


<p>The space mapping configuration file <tt>gs.xml</tt> allows you to define space class metadata when using a POJO class with getter or setter methods. Space mapping files are also required when using POJO objects with the <tt>ExternalDataSource</tt> interface. The <tt>gs.xml</tt> configuration file is loaded when the application and space are started. <tt>gs.xml</tt> files can be edited to include GigaSpaces specific attributes.</p>

<div class='panelMacro'><table class='infoMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>The gs.xml file is mainly used with 1.4 JVM which does not support the Java Annotations.</td></tr></table></div>

<div class="error"><span class="error">Error formatting macro: toc-zone: java.lang.NullPointerException</span> 

<h2><a name="POJOMetadata-gs.xmlLocation"></a>gs.xml Location</h2>

<p>The <tt>&#42;.gs.xml</tt> file can reside in one of two locations:</p>
<ul>
	<li>The <tt>&lt;CLASSPATH&gt;/config/mapping</tt> folder. In this case, the <tt>gs.xml</tt> file can include decorations for multiple classes and can have any name. For example, the mapping file could be placed at "mpApp/config/mapping/myapplication.gs.xml", where the <tt>mpApp</tt> folder is part of the application <tt>CLASSPATH</tt>. You may have multiple <tt>gs.xml</tt> files located at the <tt>&lt;CLASSPATH&gt;/config/mapping</tt> folder.</li>
	<li>In the same folder as the POJO class file. In this case, the <tt>gs.xml</tt> file should use the same class name as the file prefix. For example, if a POJO class is located at "mpApp/my/package/MyPojo.class" then the mapping file must located at "mpApp/my/package/MyPojo.gs.xml".</li>
</ul>


<p><img class="emoticon" src="images/icons/emoticons/warning.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> The <tt>replicate</tt> and <tt>persist</tt> attributes <b>must</b> be defined (either <tt>true</tt> or <tt>false</tt>), as part of the <tt>class</tt> element.</p>

<h2><a name="POJOMetadata-gs.xmlExample"></a>gs.xml Example</h2>

<p>When using the <tt>version</tt>, <tt>id</tt> and <tt>routing</tt> elements, place these in the <tt>gs.xml</tt> file in the following order:</p>
<ol>
	<li><tt>version</tt></li>
	<li><tt>id</tt></li>
	<li><tt>routing</tt></li>
</ol>


<p>Below is an example for an <tt>Employee</tt> class and a <tt>Person</tt> class XML configuration file named <tt>mapping.gs.xml</tt>:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;?xml version=<span class="code-quote">"1.0"</span> encoding=<span class="code-quote">"UTF-8"</span>?&gt;</span>
&lt;!DOCTYPE gigaspaces-mapping PUBLIC <span class="code-quote">"-//GIGASPACES//DTD GS//EN"</span> 
    <span class="code-quote">"http://www.gigaspaces.com/dtd/7_1/gigaspaces-metadata.dtd"</span>&gt;
<span class="code-tag">&lt;gigaspaces-mapping&gt;</span>
    <span class="code-tag">&lt;class name=<span class="code-quote">"com.j_spaces.examples.hellospacepojo.Employee"</span> persist=<span class="code-quote">"false"</span> replicate=<span class="code-quote">"false"</span>&gt;</span>
        <span class="code-tag">&lt;version name=<span class="code-quote">"versionID"</span> /&gt;</span>
        <span class="code-tag">&lt;id name=<span class="code-quote">"employeeID"</span> auto-generate=<span class="code-quote">"false"</span> /&gt;</span>
        <span class="code-tag">&lt;routing name=<span class="code-quote">"employeeID"</span> /&gt;</span>
        &lt;reference
            class-ref=<span class="code-quote">"com.j_spaces.examples.hellospacepojo.Person"</span> /&gt;
    <span class="code-tag">&lt;/class&gt;</span>
    <span class="code-tag">&lt;class name=<span class="code-quote">"com.j_spaces.examples.hellospacepojo.Person"</span> persist=<span class="code-quote">"false"</span> replicate=<span class="code-quote">"false"</span>&gt;</span>
        <span class="code-tag">&lt;property name=<span class="code-quote">"lastName"</span> index=<span class="code-quote">"BASIC"</span> /&gt;</span>
        <span class="code-tag">&lt;property name=<span class="code-quote">"firstName"</span> index=<span class="code-quote">"BASIC"</span> /&gt;</span>
    <span class="code-tag">&lt;/class&gt;</span>
<span class="code-tag">&lt;/gigaspaces-mapping&gt;</span></pre>
</div></div>

<div class='panelMacro'><table class='noteMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>The Employee class uses the &lt;reference&gt; tag to inherit metadata from the Person Class.</td></tr></table></div>

<h2><a name="POJOMetadata-XMLTags"></a>XML Tags</h2>

<h3><a name="POJOMetadata-ClassLevelTags"></a>Class Level Tags</h3>

<ul>
	<li><tt><b>&lt;class&gt;</b></tt> &#8211; a <tt>class</tt> and the associated Java class <tt>ClassDescriptor</tt> encapsulate meta data information of a concrete class.
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Attribute </th>
<th class='confluenceTh'> Description </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>name</tt> </td>
<td class='confluenceTd'> Contains the full qualified name of the specified class. Because this attribute is of the XML type <tt>ID</tt>, there can only be one <tt>class-descriptor</tt> per class. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>persist</tt> </td>
<td class='confluenceTd'> This field indicates the persistency mode of the object. When a space is defined as persistent, a <tt>true</tt> value for this attribute will persist objects of this type. <p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/> For more details, refer to the <a href="Persistency.html" title="Persistency">Persistency</a> section. </p> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>replicate</tt> </td>
<td class='confluenceTd'> This field indicates the replication mode of the object. When a space is defined as replicated, a <tt>true</tt> value for this attribute will replicate objects of this type. <p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/> For more details, refer to the <a href="Replication.html" title="Replication">Replication</a> section. </p> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>fifo-support</tt> </td>
<td class='confluenceTd'> To enable FIFO operations, set this attribute to one of the <a href="http://www.gigaspaces.com/docs/JavaDoc7.1/com/gigaspaces/annotation/pojo/FifoSupport.html">FifoSupport</a> enumeration values. <p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/> For more details, refer to the <a href="FIFO Support.html" title="FIFO Support">FIFO operations</a> section.</p> </td>
</tr>
</tbody></table></li>
</ul>



<h3><a name="POJOMetadata-FieldLevelTags"></a>Field Level Tags</h3>
<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>
<p>All the fields are written automatically into space. If the field is a reference to another object, it has to be Serializable and it will be written into space as well. Only the fields which need special space behavior need to be specified in the gs.xml file. Specify the fields which are id's, indexes or need exclusions, etc.</p></td></tr></table></div>
<ul>
	<li><tt><b>&lt;property&gt;</b></tt> &#45; contains mapping info for a primitive type attribute of a persistent class.
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Attribute </th>
<th class='confluenceTh'> Description </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>name</tt> </td>
<td class='confluenceTd'> Holds the name of the persistent class attribute. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>index</tt> </td>
<td class='confluenceTd'> Indicates which fields are indexed in the space. The first indexed member is used for hashing. Querying indexed fields speeds up read and take operations. </td>
</tr>
</tbody></table></li>
	<li><tt><b>&lt;reference&gt;</b></tt> &#45; contains mapping information for an attribute of a class that is not primitive, but references another entity object.</li>
</ul>


<ul>
	<li><tt><b>&lt;null-value&gt;</b></tt> &#45; a value that will represent a <tt>null</tt>. Relevant for primitive fields (int, long).
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;class name=<span class="code-quote">"com.j_spaces.examples.hellospacepojo.Person"</span> 
        persist=<span class="code-quote">"<span class="code-keyword">false</span>"</span> replicate=<span class="code-quote">"<span class="code-keyword">false</span>"</span>&gt;
    &lt;property name=<span class="code-quote">"int_Field"</span> <span class="code-keyword">null</span>-value=<span class="code-quote">"-1"</span> /&gt;
    &lt;property name=<span class="code-quote">"long_Field"</span> <span class="code-keyword">null</span>-value=<span class="code-quote">"-1"</span> /&gt;
&lt;/class&gt;</pre>
</div></div></li>
</ul>


<ul>
	<li><tt><b>&lt;class-ref&gt;</b></tt> &#45; contains the full qualified name of the specified class.</li>
	<li><tt><b>&lt;id&gt;</b></tt> &#45; defines whether this field value is used when generating the object ID.
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Attribute </th>
<th class='confluenceTh'> Description </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>name</tt> </td>
<td class='confluenceTd'> Specifies a get method that allows identification of the <tt>id</tt> element in the space. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>auto-generate</tt> </td>
<td class='confluenceTd'> Specifies if the object ID is generated automatically by the space when written into the space. If <tt>false</tt>, the field is indexed automatically, and if <tt>true</tt>, the field isn't indexed. </td>
</tr>
</tbody></table></li>
	<li><tt><b>&lt;version&gt;</b></tt> &#45; saves the POJO's version in the space. This must be an <tt>int</tt> data type field.
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Attribute </th>
<th class='confluenceTh'> Description </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>name</tt> </td>
<td class='confluenceTd'> Specifies a <tt>get</tt> method for holding the version's ID. </td>
</tr>
</tbody></table></li>
	<li><tt><b>&lt;persist&gt;</b></tt> &#45; allows you to specify whether a POJO is or isn't saved inside the space.
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Attribute </th>
<th class='confluenceTh'> Description </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>name</tt> </td>
<td class='confluenceTd'> Specifies a <tt>get</tt> method for holding the <tt>persist</tt> flag. </td>
</tr>
</tbody></table></li>
	<li><tt><b>&lt;routing&gt;</b></tt> &#45; Determines the target space for the operation with using partitioned space.
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Attribute </th>
<th class='confluenceTh'> Description </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>name</tt> </td>
<td class='confluenceTd'> Specifies a get method that allows identification of the <tt>routing</tt> element in the space. </td>
</tr>
</tbody></table></li>
</ul>


<ul>
	<li><tt><b>&lt;exclude&gt;</b></tt> &#45; causes the POJO field under this element to be excluded, and not be saved in the space.
	<ul>
		<li>If you specify a field name that exists as part of the <tt>property</tt> element, this field is excluded.</li>
		<li>If the field name doesn't exist as part of the <tt>property</tt> element, this means that this field name is part of the <tt>Person</tt> class, and you do not want it to be saved in the space.</li>
	</ul>
	</li>
</ul>


<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>For details about scaling a running space cluster <b>in runtime</b> see the <a href="http://www.gigaspaces.com/wiki/display/SBP/Moving+into+Production+Checklist#MovingintoProductionChecklist-RebalancingDynamicRepartitioning">Dynamic Partitioning</a> section. </td></tr></table></div>

<h2><a name="POJOMetadata-generateGsXmlUtilityGeneratingthegs.xmlFile"></a>generateGsXml Utility - Generating the gs.xml File</h2>

<p>When a Hibernate <tt>class-to-database</tt> mapping configuration file (hbm) exists for the classes for which a space mapping configuration file <tt>gs.xml</tt> is required, a simple utility can be used to generate the <tt>gs.xml</tt> file from the <tt>hbm</tt> file.</p>

<p><img class="emoticon" src="images/icons/emoticons/lightbulb_on.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> The utility, <tt>generateGsXml</tt>, was located at <tt>&lt;GigaSpaces Root&gt;\bin</tt> till XAP 6.5 and it was move to OpenSpaces.org as an opensource project in XAP 6.5.</p>

<p>The generated space configuration file <tt>gs.xml</tt> should be located at <tt>&lt;CLASSPATH&gt;\config\mapping</tt> folder. GigaSpaces client and space load these files when the application and space are started.</p>

<h3><a name="POJOMetadata-generateGsXmlUtilityOptions"></a>generateGsXml Utility Options</h3>

<p>Set the Environment variables as follows:</p>
<ul>
	<li><tt>POJO_CLASSPATH</tt> &#45; The path for the POJOs class file.</li>
	<li><tt>HIBERNATE_HOME</tt> &#45; The path for the Hibernate configuration file and <tt>&#42;.hbm</tt> files.</li>
</ul>


<p>The <tt>generateGsXml</tt> command has the following parameters:</p>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Parameter </th>
<th class='confluenceTh'> Required/Optional </th>
<th class='confluenceTh'> Description </th>
<th class='confluenceTh'> Default Value </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;beanName</tt> </td>
<td class='confluenceTd'> Required if <tt>isHibernate</tt> is <tt>false</tt>. </td>
<td class='confluenceTd'> The bean (POJO) name. Represents the full path of the POJO's name. </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;outputDir</tt> </td>
<td class='confluenceTd'> required </td>
<td class='confluenceTd'> The output directory for all the generated <tt>gs.xml</tt> files. </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;is</tt><br clear="all" />
 <tt>Hibernate</tt> </td>
<td class='confluenceTd'> optional </td>
<td class='confluenceTd'> Indicates whether to generate gs files from all <tt>&#42;.hbm</tt> hibernate file in classpath. </td>
<td class='confluenceTd'> <tt>false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;mapping</tt><br clear="all" />
 <tt>Type</tt> </td>
<td class='confluenceTd'> optional </td>
<td class='confluenceTd'> The mapping type can have a <tt>space</tt> value or a <tt>map</tt> value. </td>
<td class='confluenceTd'> <tt>space</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;isFifo</tt> </td>
<td class='confluenceTd'> optional </td>
<td class='confluenceTd'> Indicates whether to use FIFO for all the beans. </td>
<td class='confluenceTd'> <tt>false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;isPersist</tt> </td>
<td class='confluenceTd'> optional </td>
<td class='confluenceTd'> Indicates whether to use persistent for all the beans. </td>
<td class='confluenceTd'> <tt>true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;is</tt><br clear="all" />
 <tt>Replicate</tt> </td>
<td class='confluenceTd'> optional </td>
<td class='confluenceTd'> Indicates whether to use replicate for all the beans. </td>
<td class='confluenceTd'> <tt>true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;hibernate</tt><br clear="all" />
 <tt>ConfigFile</tt> </td>
<td class='confluenceTd'> optional </td>
<td class='confluenceTd'> The hibernate configuration file if <tt>isHibernate</tt> is <tt>true</tt>. </td>
<td class='confluenceTd'> <tt>/hibernate.cfg.xml</tt>. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;override</tt><br clear="all" />
 <tt>File</tt> </td>
<td class='confluenceTd'> optional </td>
<td class='confluenceTd'> Indicates whether to override an existing file with the same filename. </td>
<td class='confluenceTd'> <tt>false</tt>, meaning it will create a new file using the <tt>.new</tt> suffix. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&#45;inherit</tt><br clear="all" />
 <tt>Indexes</tt> </td>
<td class='confluenceTd'> optional </td>
<td class='confluenceTd'> Two values can be chosen:
<ul>
	<li>hierarchy - takes into account the declared indexes that are set to <tt>true</tt>, and all their superclasses.</li>
	<li>instance - takes into account the instance's indexes; or if it's indexes are false, takes into account the first superclass that contains indexes that are <tt>true</tt>.</li>
</ul>
</td>
<td class='confluenceTd'> <tt>true</tt> </td>
</tr>
</tbody></table>

<h3><a name="POJOMetadata-Examples"></a>Examples</h3>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">generateGsXml -beanName com.j_spaces.examples.hellospacepojo.SimpleBean  -outputDir D:\dev\gigaspaces\
generateGsXml -isHibernate <span class="code-keyword">true</span>  -outputDir D:\dev\gigaspaces\ -hibernateConfigFile hibernate.cfg.xml</pre>
</div></div>
</div>
</div></div>


<h1><a name="POJOMetadata-UserDefinedSpaceClassFields"></a>User Defined Space Class Fields</h1>

<p>You may use user defined data types (non-primitive data types) with your Space class. These should implement the <tt>Serializable</tt> interface.<br/>
The user defined fields cannot be used by default for queries. You should provide a getter and a setter method for these as part of their parent Space class.<br/>
See example below:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeHeader panelHeader" style="border-bottom-width: 1px;"><b>The User defined Class</b></div><div class="codeContent panelContent">
<pre class="code-java"><span class="code-keyword">public</span> class MyUserDefinedClass <span class="code-keyword">implements</span> Serializable{
	<span class="code-object">String</span> fieldA;
	<span class="code-object">String</span> fieldB;
	<span class="code-keyword">public</span> <span class="code-object">String</span> getFieldA() {
		<span class="code-keyword">return</span> fieldA;
	}
	<span class="code-keyword">public</span> void setFieldA(<span class="code-object">String</span> fieldA) {
		<span class="code-keyword">this</span>.fieldA = fieldA;
	}
	<span class="code-keyword">public</span> <span class="code-object">String</span> getFieldB() {
		<span class="code-keyword">return</span> fieldB;
	}
	<span class="code-keyword">public</span> void setFieldB(<span class="code-object">String</span> fieldB) {
		<span class="code-keyword">this</span>.fieldB = fieldB;
	}
}</pre>
</div></div>

<p>The Space class will have the user defined data type fields getter and setter methods. <br/>
You can index these fields as any other Space class fields to allow fast search when performing read or take operations:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeHeader panelHeader" style="border-bottom-width: 1px;"><b>The Space Class with the User defined Class fields getters and setters</b></div><div class="codeContent panelContent">
<pre class="code-java">@SpaceClass
<span class="code-keyword">public</span> class Trade <span class="code-keyword">implements</span> Serializable {
    
    <span class="code-object">String</span> _tradeId;
    <span class="code-object">String</span> _instrument;
    <span class="code-object">String</span> _accountId;
    MyUserDefinedClass customField = <span class="code-keyword">null</span>;
    
    <span class="code-keyword">public</span> Trade() {
        
    }

    @SpaceIndex(type=SpaceIndexType.BASIC)
    <span class="code-keyword">public</span> <span class="code-object">String</span> getMyClassFieldA()
    {
    	<span class="code-keyword">if</span> (customfield == <span class="code-keyword">null</span>) <span class="code-keyword">return</span> <span class="code-keyword">null</span>;
    	<span class="code-keyword">return</span> customfield.getFieldA();
    }

    @SpaceIndex(type=SpaceIndexType.BASIC)
    <span class="code-keyword">public</span> <span class="code-object">String</span> getMyClassFieldB()
    {
    	<span class="code-keyword">if</span> (customfield == <span class="code-keyword">null</span>) <span class="code-keyword">return</span> <span class="code-keyword">null</span>;
    	<span class="code-keyword">return</span> customfield.getFieldB();
    }

    <span class="code-keyword">public</span> void setMyClassFieldA(<span class="code-object">String</span> value)
    {
    	customfield.setFieldA(value);
    }

    <span class="code-keyword">public</span> void setMyClassFieldB(<span class="code-object">String</span> value)
    {
    	customfield.setFieldB(value);
    }
    ....
}</pre>
</div></div>


<p>The code to query the Space class will look like this:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeHeader panelHeader" style="border-bottom-width: 1px;"><b>Query User defined Class</b></div><div class="codeContent panelContent">
<pre class="code-java">SQLQuery&lt;Trade&gt; query = <span class="code-keyword">new</span> SQLQuery(Trade.class , <span class="code-quote">"myClassFieldA= 'SomeValue' or myClassFieldB = 'someValue2'"</span>);
Trade trades[] = _gigaSpace.readMultiple(query ,<span class="code-object">Integer</span>.MAX_VALUE);</pre>
</div></div>

<h1><a name="POJOMetadata-Troubleshooting"></a>Troubleshooting</h1>

<h2><a name="POJOMetadata-Logging"></a>Logging </h2>
<p>Use the <tt>com.gigaspaces.pojo.level = ALL</tt> as part of the logging file located by default at <tt>&lt;GigaSpaces Root&gt;\config\gs_logging.properties</tt>, to debug the POJO metadata load and conversion to space object. Having the <tt>&lt;GigaSpaces Root&gt;</tt> as part of the application <tt>CLASSPATH</tt> turns on the POJO debug activity at the client side.</p>

<p>When the POJO logging is turned on, the following should appear at the client side console when a class is introduced to the space:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">FINEST [com.gigaspaces.pojo]: The annotation structure of class com.j_spaces.examples.hellospacepojo.Employee is : 
name = com.j_spaces.examples.hellospacepojo.Employee
fieldNames = [firstName, lastName, employeeID, versionID]
fieldPks = [employeeID]
fieldAutoPkGen = []
fieldIndexs = [employeeID, firstName, lastName]
hashBasedKey = []
version = [versionID]
lazyDeserialization = []
payload = []
serializationTypeFields = {}
defaultNullValueFields = {firstName=<span class="code-keyword">null</span>, lastName=<span class="code-keyword">null</span>}
refClasses = [com.j_spaces.examples.hellospacepojo.Person]
persist class = <span class="code-keyword">false</span>
persist instance = []
routing field name = [employeeID]
timetolive = 9223372036854775807
fifo = <span class="code-keyword">false</span>
inheritIndexes = <span class="code-keyword">true</span>
includeProperties = IMPLICIT
replicate <span class="code-keyword">true</span>
fieldTypes = <span class="code-keyword">null</span>
mappingType = space
serializationType = 0
exclude = []</pre>
</div></div>

<p>A converted object logging output looks like this:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">FINE [com.gigaspaces.pojo]: ExternalEntry after converter is: 
	 ClassName: com.j_spaces.examples.hellospacepojo.Employee
 
	 Field Name:  firstName 
	 Field Type:  java.lang.<span class="code-object">String</span> 
	 Field Value: first name1 
	 Field Indexed: <span class="code-keyword">false</span>
 
	 Field Name:  lastName 
	 Field Type:  java.lang.<span class="code-object">String</span> 

	 Field Value: Last Name1 
	 Field Indexed: <span class="code-keyword">false</span>
 
	 Field Name:  employeeID 
	 Field Type:  java.lang.<span class="code-object">Integer</span> 
	 Field Value: 1 
	 Field Indexed: <span class="code-keyword">true</span></pre>
</div></div>

<h2><a name="POJOMetadata-UsingTheGUI"></a>Using The GUI</h2>
<p>Use the <a href="Classes View - GigaSpaces Browser.html" title="Classes View - GigaSpaces Browser">GS-UI space class view</a> to examine the POJO meta data. Make sure the annotations/xml decorations have been introduced to the space correctly i.e. correct class name, field names, field types, indexes, routing field, replication mode and FIFO mode etc.</p>

                     </td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td height="12" background="http://www.gigaspaces.com/wiki/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
</tr>
<tr>
<td align="center"><font color="grey"><a href="http://www.gigaspaces.com">GigaSpaces.com</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xwBmAg" class="smalltext">Legal Notice</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xgBmAg" class="smalltext">3rd Party Licenses</a> -
		<a href="http://www.gigaspaces.com/wiki/x/BQFmAg" class="smalltext">Site Map</a> -
		<a href="http://www.gigaspaces.com/wiki/display/API/API+Documentation+Portal" class="version-link">API Docs</a> -
		<a href="http://forum.openspaces.org/forum.jspa?forumID=175" class="version-link">Forum</a> -
		<a href="http://www.gigaspaces.com/LatestProductVersion" class="version-link">Downloads</a> -
		<a href="http://blog.gigaspaces.com/" class="version-link">Blog</a> -
		<a href="http://www.gigaspaces.com/os_papers.html" class="version-link">White Papers</a> -
		<a href="mailto:techw@gigaspaces.com">Contact Tech Writing</a> -
		<i><a href="http://www.atlassian.com/software/confluence">Gen. by Atlassian Confluence</a></i></font></td>
</tr>
</table>
     </body>
</html>
