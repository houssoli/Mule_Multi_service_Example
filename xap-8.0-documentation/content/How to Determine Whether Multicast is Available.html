<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
     <head>
         <title>XAP 8.0 Documentation : How to Determine Whether Multicast is Available</title>
<link rel="stylesheet" href="styles/site.css" type="text/css" />
         <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
		 <style>
.back-to {
	color: #666666;
	font-weight: bold;
}	 
a.back-to:link, a.back-to:visited, a.back-to:hover, a.back-to:active  {
	color: #666666;
}	 
		 </style>
     </head>

     <body>
<table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
<tr>
<td valign="top" class="pagebody">
<div class="pageheader">
<span class="back-to">XAP 8.0 Documentation > <a href="index.html">Back to Table of Contents</a></span><br>
<h1>How to Determine Whether Multicast is Available</h1>
</div>
<br>



<div style="border-style:solid; border-color:#3C78B5; border-width:thin; padding-left:20px; padding-bottom:20px; padding-top:20px; padding-right:20px; background-color:#D8E4F1"> 

<p><b>Section Summary:</b>  Used to determine whether multicast is available. </p>
</div>

<h1><a name="HowtoDetermineWhetherMulticastisAvailable-Syntax"></a>Syntax</h1>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>gs&gt; admin multicastTest [variable[variable]]
</pre>
</div></div>

<h1><a name="HowtoDetermineWhetherMulticastisAvailable-Description"></a>Description</h1>

<p>The admin <tt>multicastTest</tt> utility is used to determine whether multicast is available.</p>

<p>It determines whether a multicast socket can be created and a request announcement can be sent.</p>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>It is still possible that multicast does not work outside the tested host.</td></tr></table></div>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>Make sure your network and machines running GigaSpaces are configured to have multicast enabled. <br/>
See the <a href="How to Configure Multicast.html" title="How to Configure Multicast">How to Configure Multicast</a> section for details on how to enable multicast.</td></tr></table></div>

<p>This multicast utility serves to check multicast communication between sender and receiver running on different machines. You should run this utility from two different shells, where one should run from the sender machine and the other from the receiver machine. The sender machine should display the round trip reply time from all receiver machines. If multicast is configured properly on your machine and network, you should see the following message in your sender machine:</p>

<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>Reply from 192.138.120.56:5558 bytes=100 time=1.539ms</pre>
</div></div> 

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>For multi-homed network card machine use <tt>multicastTest -sender -ba [network card IP]</tt>.</td></tr></table></div>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>To configure Jini in a multi network environment see the <a href="How to Configure an Environment With Multiple Network-Cards (Multi-NIC).html" title="How to Configure an Environment With Multiple Network-Cards (Multi-NIC)">Multi Network Card Configuration Section</a>.</td></tr></table></div> 

<h1><a name="HowtoDetermineWhetherMulticastisAvailable-Options"></a>Options</h1>

<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Option </th>
<th class='confluenceTh'> Description </th>
<th class='confluenceTh'> Value Format </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>sender</tt> / <tt>receiver</tt> </td>
<td class='confluenceTd'> Specifies whether you are the sender or the receiver &#8211; <tt>-sender</tt> is used by the source machine, and <tt>-receiver</tt> is used by each target machine. </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <tt>ba</tt> </td>
<td class='confluenceTd'> Binding address. Useful for multihomed hosts. </td>
<td class='confluenceTd'> <tt>localhost</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>ma</tt> </td>
<td class='confluenceTd'> Multicast address. </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <tt>t</tt> </td>
<td class='confluenceTd'> Time to live for multicast packets. </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <tt>verbose</tt> </td>
<td class='confluenceTd'> Print out the received messages. </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
</tbody></table>

<h1><a name="HowtoDetermineWhetherMulticastisAvailable-Example"></a>Example</h1>

<p>Run the following at the sender machine:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>admin multicastTest -sender -ba localhost -verbose</pre>
</div></div>

<p>Run the following at the receiver machine:</p>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>admin multicastTest -receiver -ba localhost -verbose</pre>
</div></div>

<p>The sender should display the following:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;GigaSpaces Root&gt;\bin\gs&gt;admin multicastTest -sender -ba localhost  -verbose
JAVA_HOME environment variable is set to D:\JDK\jdk1.5.0_04 in <span class="code-quote">"&lt;GigaSpaces Root&gt;\bin\setenv.bat"</span>
Environment set successfully from c:\GigaSpacesXAP6.0\bin\\..
Starting Multicast-Sender...
Started MulticastSocket=/224.0.0.150:5558, ack-reply port: 5559, ttl=1, bind <span class="code-keyword">interface</span>=/127.0.0.1, eventSize=100
 
---------- [SENDER MACHINE HOST] NETWORK INTERFACE INFO -----------
Names: lo / MS TCP Loopback <span class="code-keyword">interface</span>
        Address: 127.0.0.1
Names: eth0 / Broadcom NetXtreme Gigabit Ethernet - Packet Scheduler Miniport
        Address: 192.168.10.178
Names: eth1 / Bluetooth LAN Access Server Driver - Packet Scheduler Miniport
        Address: 169.254.111.108
---------- [SENDER MACHINE HOST] NETWORK INTERFACE INFO -----------
Reply from 127.0.0.1:5558 bytes=100 time=2.869079ms
Reply from 127.0.0.1:5558 bytes=100 time=0.807924ms
Reply from 127.0.0.1:5558 bytes=100 time=0.744508ms
Reply from 127.0.0.1:5558 bytes=100 time=0.876089ms</pre>
</div></div>

<p>The receiver should display the following:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;GigaSpaces Root&gt;\bin\gs&gt;admin multicastTest -receiver -ba localhost  -verbose
JAVA_HOME environment variable is set to D:\JDK\jdk1.5.0_04 in <span class="code-quote">"&lt;GigaSpaces Root&gt;\bin\setenv.bat"</span>
Environment set successfully from c:\GigaSpacesXAP6.0\bin\\..
Starting Multicast-Receiver...
 
---------- [RECEIVER MACHINE HOST] NETWORK INTERFACE INFO -----------
Names: lo / MS TCP Loopback <span class="code-keyword">interface</span>
        Address: 127.0.0.1
Names: eth0 / Broadcom NetXtreme Gigabit Ethernet - Packet Scheduler Miniport
        Address: 192.168.10.178
Names: eth1 / Bluetooth LAN Access Server Driver - Packet Scheduler Miniport
        Address: 169.254.111.108
---------- [SENDER MACHINE HOST] NETWORK INTERFACE INFO -----------
Received from [sender=127.0.0.1:5559] packet size: 100 bytes
Received from [sender=127.0.0.1:5559] packet size: 100 bytes
Received from [sender=127.0.0.1:5559] packet size: 100 bytes
Received from [sender=127.0.0.1:5559] packet size: 100 bytes</pre>
</div></div>

                     </td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td height="12" background="http://www.gigaspaces.com/wiki/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
</tr>
<tr>
<td align="center"><font color="grey"><a href="http://www.gigaspaces.com">GigaSpaces.com</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xwBmAg" class="smalltext">Legal Notice</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xgBmAg" class="smalltext">3rd Party Licenses</a> -
		<a href="http://www.gigaspaces.com/wiki/x/BQFmAg" class="smalltext">Site Map</a> -
		<a href="http://www.gigaspaces.com/wiki/display/API/API+Documentation+Portal" class="version-link">API Docs</a> -
		<a href="http://forum.openspaces.org/forum.jspa?forumID=175" class="version-link">Forum</a> -
		<a href="http://www.gigaspaces.com/LatestProductVersion" class="version-link">Downloads</a> -
		<a href="http://blog.gigaspaces.com/" class="version-link">Blog</a> -
		<a href="http://www.gigaspaces.com/os_papers.html" class="version-link">White Papers</a> -
		<a href="mailto:techw@gigaspaces.com">Contact Tech Writing</a> -
		<i><a href="http://www.atlassian.com/software/confluence">Gen. by Atlassian Confluence</a></i></font></td>
</tr>
</table>
     </body>
</html>
