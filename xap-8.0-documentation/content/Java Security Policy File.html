<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
     <head>
         <title>XAP 8.0 Documentation : Java Security Policy File</title>
<link rel="stylesheet" href="styles/site.css" type="text/css" />
         <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
		 <style>
.back-to {
	color: #666666;
	font-weight: bold;
}	 
a.back-to:link, a.back-to:visited, a.back-to:hover, a.back-to:active  {
	color: #666666;
}	 
		 </style>
     </head>

     <body>
<table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
<tr>
<td valign="top" class="pagebody">
<div class="pageheader">
<span class="back-to">XAP 8.0 Documentation > <a href="index.html">Back to Table of Contents</a></span><br>
<h1>Java Security Policy File</h1>
</div>
<br>



<div style="border-style:solid; border-color:#3C78B5; border-width:thin; padding-left:20px; padding-bottom:20px; padding-top:20px; padding-right:20px; background-color:#D8E4F1"> 

<p><b>Section Summary:</b>  Setting the <tt>java.security.policy</tt> property. </p>
</div>

<h1><a name="JavaSecurityPolicyFile-Overview"></a>Overview</h1>

<p>When accessing the space, you should have the <tt>java.security.policy</tt> property set correctly.<br/>
You may use a default security file bundled with the distribution. It is located at:<br/>
<tt>&lt;GigaSpaces Root&gt;\policy\policy.all</tt>:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">grant {
    permission java.security.AllPermission <span class="code-quote">"", "</span>";
};</pre>
</div></div>
<p><img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> You can augment or replace the default JVM runtime permissions using the <tt>java.security.policy</tt> system property to specify the path to a policy file. This System property is unique in that it can use <tt>=</tt> or <tt>==</tt> to indicate whether the policy file specified should append to, or replace the default permissions. If you use the "=", the permissions in the specified policy file are appended to the default permissions. If you use the <tt>==</tt>, then the permissions in the specified policy file replace the default permissions.</p>

<p><img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> GigaSpaces includes default security permissions, based on the above settings. These are located in the <tt>gs-runtime.jar</tt> file, under <tt>\policy\gigaspaces.policy</tt>. If you do not need special security settings, you do not need to set up the <tt>java.security.policy</tt> property when accessing the space. The default setting is used. The same occurs when using the <tt>SpaceFinder</tt> to start a space (not using the <tt>ServiceStarter</tt>).</p>

<p><img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> <b>Flat File Structure</b> &#8211; the <tt>policy.all</tt> file can be moved under the <tt>&lt;GigaSpaces Root&gt;</tt> directory, if you want to maintain a flat file structure &#8211; where configuration, jar, and security files can be organized under the <tt>&lt;GigaSpaces Root&gt;</tt> folder, or under their main folder without having sub-folders.</p>

<p><img class="emoticon" src="images/icons/emoticons/check.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> For more details on Java security, refer to: <a href="http://java.sun.com/j2se/1.4.2/docs/guide/security/PolicyFiles.html" title="http://java.sun.com/j2se/1.4.2/docs/guide/security/PolicyFiles.html">Sun;Default Policy Implementation and Policy File Syntax</a>.</p>

<h1><a name="JavaSecurityPolicyFile-SecuritypermissionsrequiredforGigaSpaces"></a>Security permissions required for GigaSpaces</h1>

<p>If you want to create your own security policy file, you need to add, at least, the following security grants.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">grant {
  permission java.util.PropertyPermission <span class="code-quote">"*"</span>, <span class="code-quote">"read, write"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"getProtectionDomain"</span>;
  permission java.io.FilePermission <span class="code-quote">"&lt;&lt;ALL FILES&gt;&gt;"</span>, <span class="code-quote">"read, write, delete, execute"</span>;
  permission java.io.SerializablePermission <span class="code-quote">"enableSubstitution"</span>;
  permission java.lang.reflect.ReflectPermission <span class="code-quote">"suppressAccessChecks"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"accessClassInPackage.org.apache.*"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"accessClassInPackage.sun.*"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"accessDeclaredMembers"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"createClassLoader"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"getClassLoader"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"loadLibrary.libtcnative-1"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"loadLibrary.management"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"loadLibrary.net"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"loadLibrary.tcnative-1"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"modifyThread"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"modifyThreadGroup"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"org.jboss.security.SecurityAssociation.setServer"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"setContextClassLoader"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"createSecurityManager"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"setFactory"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"setIO"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"shutdownHooks"</span>;
  permission java.net.NetPermission <span class="code-quote">"specifyStreamHandler"</span>;
  permission java.net.SocketPermission <span class="code-quote">"*"</span>, <span class="code-quote">"listen, resolve, connect, accept"</span>;
  permission java.security.SecurityPermission <span class="code-quote">"createAccessControlContext"</span>;
  permission java.security.SecurityPermission <span class="code-quote">"getDomainCombiner"</span>;
  permission java.security.SecurityPermission <span class="code-quote">"getPolicy"</span>;
  permission java.security.SecurityPermission <span class="code-quote">"getProperty.*"</span>;
  permission java.security.SecurityPermission <span class="code-quote">"insertProvider.SUN"</span>;
  permission java.security.SecurityPermission <span class="code-quote">"putProviderProperty.SUN"</span>;
  permission java.security.SecurityPermission <span class="code-quote">"setPolicy"</span>;
  permission java.security.SecurityPermission <span class="code-quote">"setProperty.<span class="code-keyword">package</span>.access"</span>;
  permission java.security.SecurityPermission <span class="code-quote">"setProperty.<span class="code-keyword">package</span>.definition"</span>;
  permission net.jini.security.GrantPermission <span class="code-quote">"java.security.AllPermission"</span>;
  permission com.sun.jini.discovery.internal.EndpointInternalsPermission <span class="code-quote">"set"</span>;
  permission com.sun.jini.discovery.internal.EndpointInternalsPermission <span class="code-quote">"get"</span>;
  permission java.util.logging.LoggingPermission <span class="code-quote">"control"</span>;
  permission net.jini.discovery.DiscoveryPermission <span class="code-quote">"*"</span>;
  permission javax.security.auth.AuthPermission <span class="code-quote">"refreshLoginConfiguration"</span>;
  permission javax.security.auth.AuthPermission <span class="code-quote">"setLoginConfiguration"</span>;
  permission javax.management.MBeanServerPermission <span class="code-quote">"createMBeanServer"</span>;
  permission javax.management.MBeanServerPermission <span class="code-quote">"findMBeanServer"</span>;
  permission javax.management.MBeanServerPermission <span class="code-quote">"newMBeanServer"</span>;
  permission javax.management.MBeanTrustPermission <span class="code-quote">"register"</span>;
  permission javax.management.MBeanPermission <span class="code-quote">"*"</span>, <span class="code-quote">"*"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"org.jboss.security.SecurityAssociation.setRunAsRole"</span>;
  permission javax.security.auth.AuthPermission <span class="code-quote">"doAsPrivileged"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"org.jboss.security.SecurityAssociation.getPrincipalInfo"</span>;
  permission javax.security.auth.AuthPermission <span class="code-quote">"createLoginContext.HsqlDbRealm"</span>;
  permission javax.security.auth.AuthPermission <span class="code-quote">"getLoginConfiguration"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"org.jboss.security.SecurityAssociation.accessContextInfo"</span>;
  permission javax.security.auth.PrivateCredentialPermission <span class="code-quote">"javax.resource.spi.security.PasswordCredential * \"</span>*\<span class="code-quote">"", "</span>read";
  permission javax.security.auth.AuthPermission <span class="code-quote">"*"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"org.jboss.security.SecurityAssociation.setPrincipalInfo"</span>;
  permission net.jini.security.GrantPermission <span class="code-quote">"java.security.AllPermission \"</span>&lt;all permissions&gt;\<span class="code-quote">", \"</span>&lt;all actions&gt;\"";
  permission net.jini.export.ExportPermission <span class="code-quote">"exportRemoteInterface.com.sun.jini.reggie.Registrar"</span>;
  permission com.sun.jini.thread.ThreadPoolPermission <span class="code-quote">"getSystemThreadPool"</span>;
  permission javax.management.MBeanServerPermission <span class="code-quote">"releaseMBeanServer"</span>;
  permission java.lang.RuntimePermission <span class="code-quote">"exitVM"</span>;
};</pre>
</div></div>

                     </td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td height="12" background="http://www.gigaspaces.com/wiki/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
</tr>
<tr>
<td align="center"><font color="grey"><a href="http://www.gigaspaces.com">GigaSpaces.com</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xwBmAg" class="smalltext">Legal Notice</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xgBmAg" class="smalltext">3rd Party Licenses</a> -
		<a href="http://www.gigaspaces.com/wiki/x/BQFmAg" class="smalltext">Site Map</a> -
		<a href="http://www.gigaspaces.com/wiki/display/API/API+Documentation+Portal" class="version-link">API Docs</a> -
		<a href="http://forum.openspaces.org/forum.jspa?forumID=175" class="version-link">Forum</a> -
		<a href="http://www.gigaspaces.com/LatestProductVersion" class="version-link">Downloads</a> -
		<a href="http://blog.gigaspaces.com/" class="version-link">Blog</a> -
		<a href="http://www.gigaspaces.com/os_papers.html" class="version-link">White Papers</a> -
		<a href="mailto:techw@gigaspaces.com">Contact Tech Writing</a> -
		<i><a href="http://www.atlassian.com/software/confluence">Gen. by Atlassian Confluence</a></i></font></td>
</tr>
</table>
     </body>
</html>
