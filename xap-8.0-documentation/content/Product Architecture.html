<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
     <head>
         <title>XAP 8.0 Documentation : Product Architecture</title>
<link rel="stylesheet" href="styles/site.css" type="text/css" />
         <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
		 <style>
.back-to {
	color: #666666;
	font-weight: bold;
}	 
a.back-to:link, a.back-to:visited, a.back-to:hover, a.back-to:active  {
	color: #666666;
}	 
		 </style>
     </head>

     <body>
<table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
<tr>
<td valign="top" class="pagebody">
<div class="pageheader">
<span class="back-to">XAP 8.0 Documentation > <a href="index.html">Back to Table of Contents</a></span><br>
<h1>Product Architecture</h1>
</div>
<br>



<div style="border-style:solid; border-color:#3C78B5; border-width:thin; padding-left:20px; padding-bottom:20px; padding-top:20px; padding-right:20px; background-color:#D8E4F1"> 

<p><b>Section Summary:</b>  This section describes the architecture of the GigaSpaces XAP product. </p>
</div>

<p>GigaSpaces XAP is built from the following sub-systems: </p>
<ul>
	<li><a href="#ProductArchitecture-SLADrivenContainer"><b>An SLA-Driven Container</b></a> &#8211; provides the virtualization capabilities</li>
	<li><a href="#ProductArchitecture-UnifiedInMemoryClustering"><b>A Unified Clustering Layer</b></a> &#8211; responsible for a single clustering model across all the product's functionality. This capability is built on top of the space infrastructure.</li>
	<li><a href="#ProductArchitecture-CoreMiddleware"><b>Core Middleware</b></a> &#8211; space-based runtime services which provide data, messaging and processing implementation.</li>
	<li><a href="#ProductArchitecture-LightweightApplicationContainers"><b>Lightweight Application Containers</b></a> &#8211; application container services provide runtime support for applications.</li>
	<li><a href="#ProductArchitecture-OpenSpacesAPIandComponents"><b>OpenSpaces - API and Components</b></a> &#8211; the API layer and a component model (building blocks) for application developers.</li>
</ul>


<p>Each sub-system (layer) is responsible for providing application server capabilities, and the bottom layers provide services to the upper layers. Figure 1 provides a representation of the sub-systems which compose the entire GigaSpaces XAP product.
<br clear="all" />
<div align="center"><img src="download/attachments/17301573/XAP Architecture Overview.jpg" border="0"/></div></p>
<div class="" align="center"> <sub><b>Figure 1. Architecture overview for GigaSpaces XAP</b></sub> </div>

<h1><a name="ProductArchitecture-SLADrivenContainer"></a>SLA-Driven Container</h1>
<div class="error"><span class="error">Error formatting macro: toc-zone: java.lang.NullPointerException</span> 
<p>An SLA-Driven Container, also known as the Service Grid, is responsible for abstracting the physical characteristics of the host machines from the application deployment.</p>

<p>The Service Grid is simply a set of runtime container processes deployed on multiple physical machines, which together form a virtual runtime cloud.  Once the cloud is formed, applications can be deployed for execution across the cloud, without a need to define specific host machine characteristics.</p>

<p>In addition, as its name implies, the Service Level Guarantee and management is an essential part of this sub-system's responsibilities.</p>

<p>When it comes to provisioning and monitoring large-scale systems, the ability to specifically define the location of each node in the cluster becomes very laborious.</p>

<p>The Service Grid takes a pre-defined application-required SLA, and makes sure that it is met during deployment and runtime, throughout the application's life-cycle.</p>

<p>To clarify, here is an example of an application SLA:</p>
<ol>
	<li>Deploy 50 instances of each Processing Unit.</li>
	<li>Make sure each processing unit has one backup.</li>
	<li>Make sure primary and backups of the same Processing Unit are not deployed to the same VM.</li>
	<li>Make sure primary and backup of the same Processing Unit are not deployed on the same physical server.</li>
</ol>


<p>In this type of example, the Service Grid is responsible for making sure that one hundred Processing Units are deployed into the Service Grid cloud. Once the SLA is breached, (for example, if a machine which contains a Processing Unit fails), the Service Grid is responsible for re-provisioning all the Processing Units previously deployed on this machine into other Grid Service Containers (see definition below), in other available machines.</p>

<p><img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> Note: The logical separation between multiple Service Grid instances is defined by a Lookup Group. A lookup group is a logical name associated with each Service Grid component. This is the prime way of separating between multiple Service Grid clusters run on the same network.</p>

<h2><a name="ProductArchitecture-GridServiceAgent%28GSA%29"></a>Grid Service Agent (GSA)</h2>
<p>The Grid Service Agent (GSA) acts as a process manager that can spawn and manage Service Grid processes (Operating System level processes) such as <a href="The GigaSpaces Manager.html" title="The GigaSpaces Manager">Grid Service Manager</a> and <a href="The GigaSpaces Container.html" title="The GigaSpaces Container">Grid Service Container</a>.</p>

<p>Usually, a single GSA is run per machine. The GSA allows to spawn <a href="#ProductArchitecture-gsm">Grid Service Managers</a>, <a href="#ProductArchitecture-gsc">Grid Service Containers</a>, and other processes. Once a process is spawned, the GSA assigns a unique id for it and manages its life cycle. The GSA will restart the process if it exits abnormally (exit code different than 0), or if a specific console output has been encountered (for example, OutOfMemoryError).</p>

<p><img class="emoticon" src="images/icons/emoticons/lightbulb_on.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> Though <a href="The GigaSpaces Manager.html" title="The GigaSpaces Manager">Grid Service Manager</a>, <a href="The GigaSpaces Container.html" title="The GigaSpaces Container">Grid Service Container</a>, and other processes can be started independently, it is preferable that they will be started using the GSA, thus allowing to easily monitor and manage them.</p>

<p><a name="ProductArchitecture-gsm"></a></p>
<h2><a name="ProductArchitecture-GridServiceManager%28GSM%29"></a>Grid Service Manager (GSM)</h2>
<p>The Grid Service Manager (GSM), is a special infrastructure service, responsible for managing the Service Grid containers. The GSM accepts user deployment and undeployment requests, and provisions the Service Grid cloud accordingly.<br/>
The GSM monitors SLA breach events throughout the life-cycle of the application, and is responsible for taking corrective actions, once SLAs are breached.</p>

<p><img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> It is common to start two instances of GSM services within each Service Grid cloud, for high-availability reasons.</p>

<p>The GSM service usually contains the <a href="Lookup Service Configuration.html" title="Lookup Service Configuration">Jini Lookup Service</a> and the Webster codebase server as part of its standard configuration. This configuration can be changed by providing additional parameters in the <a href="Running Services - GSC and GSM.html" title="Running Services - GSC and GSM">GSM startup script</a>.</p>

<p><a name="ProductArchitecture-gsc"></a></p>
<h2><a name="ProductArchitecture-GridServiceContainer%28GSC%29"></a>Grid Service Container (GSC)</h2>
<p>A Grid Service Container (GSC) is a container which hosts Processing Units (see description below). The GSC can be perceived as an agent, a node on the grid, which is controlled by the GSM. The GSM provides commands of deployment and undeployment of the Processing Units into the GSC. The GSC reports its status to the GSM.</p>

<p>Another aspect of a GSC is its ability to host Processing Units. The GSC classloading hierarchy makes sure that various Processing Units are isolated from one another within the same GSC. These classes/libraries should be stored within the common classloader, in case there is a need to share information between Processing Units running on the same GSC.</p>

<p>It is common to start several GSCs on the same physical machine, depending on the machine CPU and memory resources. <br/>
The deployment of multiple GSCs on a single machine creates a virtual Service Grid. The fact is that GSCs are providing a layer of abstraction on top of the physical layer of hosts. This concept enables deployment of clusters on various deployment topologies of enterprise data centers and <a href="http://www.gigaspaces.com/wiki/display/XAP8/Cloud+and+Virtualization" title="Cloud and Virtualization">public clouds</a>. </p></div>

<h1><a name="ProductArchitecture-UnifiedInMemoryClustering"></a>Unified In-Memory Clustering</h1>
<div class="error"><span class="error">Error formatting macro: toc-zone: java.lang.NullPointerException</span> 
<p>The role of clustering in GigaSpaces XAP is to provide scaling, load-balancing and high-availability. The main difference between GigaSpaces XAP and other clustering alternatives, is the use of a single clustering model for all middleware core capabilities. This means that the data and the services collocated with it, are equally available. An example of how useful this is, is that when a primary node fails, and another node acts as its backup, both application components, i.e. data and messaging, become active at the same time.</p>

<p>The ability to support a unified clustering model is a direct result of the underlying space-based clustering model. For more information on the concept of space, please refer to <a href="Concepts.html#Concepts-SpaceConceptsandCapabilities">Space - Concepts and Capabilities</a>.</p>

<h2><a name="ProductArchitecture-Scaling"></a>Scaling</h2>
<p>In space-based architecture, adding additional cluster nodes, results in a linear addition of compute power and memory capacity. This results in the application's ablility to support a higher workload, without adding to latency or application complexity.</p>

<h2><a name="ProductArchitecture-LoadBalancing"></a>Load Balancing</h2>
<p>GigaSpaces XAP's ability to distribute the processing load and/or storage across the cluster nodes, results in the ability to support high and fluctuating throughput, in addition to large volumes of data.</p>

<p>GigaSpaces XAP also supports content-based balancing, in addition to other technical balancing procedures, such as round-robin, random and connection affinity. The full power of content-based routing, results in the ability to predict the physical location of the data, and to make sure that processing is routed into the same partition. This results in in-process computation, which leads to lower latencies and higher throughput.</p>

<h2><a name="ProductArchitecture-HighAvailability"></a>High Availability</h2>
<p>High Availability (HA) is key to business critical applications, and it is a common requirement from the application server, to support it. The basic requirement of high availability, is that failing services and application components will continue on different backup servers, without service disruption.</p>

<p>The key challenge with HA is state management. The typical solution for servers without state recovery capabilities is to remain 'stateless', and to store the state in a single shared storage - database or some kind of shared file system. However these solutions are very costly, since they result in synchronization and remote access to physical disks. In addition, the session state can be large, which means it introduces network latency into every update of data - even when that data is limited to the current transaction.</p>


<p>As GigaSpaces XAP has distributed shared memory capabilities, it is very simple and efficient to preserve high availability of stateful applications. The application state is replicated into backup nodes, resulting in immediate recovery in cases of fail-over and high-performance high-availability.</p>

<p>The GigaSpaces XAP solution does not require a compromise between stateless application complexity, performance and resiliency.</p></div>

<h1><a name="ProductArchitecture-CoreMiddleware"></a>Core Middleware</h1>

<p>As an application server, GigaSpaces XAP provides integrated, memory-based runtime capabilities. The core of these capabilities is backed by the space technology - for more information, please refer to <a href="Concepts.html#Concepts-SpaceConceptsandCapabilities">Space - Concepts and Capabilities</a>.</p>

<p><b>The core middleware capabilities are:</b></p>
<div class="error"><span class="error">Error formatting macro: toc-zone: java.lang.NullPointerException</span> 

<h2><a name="ProductArchitecture-InMemoryDataGrid"></a>In-Memory Data Grid</h2>
<p>An In-Memory Data Grid (IMDG) is the way of storing data across a grid of memory nodes. This service provides the application with:</p>
<ol>
	<li>Data storage capabilities.</li>
	<li>Data query capabilities - single object, multiple object and aggregated complex queries.</li>
	<li>Caching semantics - the ability to retrieve information from within-memory data structures.</li>
	<li>Ability to execute business logic within the data - similar to database storage procedure capabilities.</li>
</ol>


<p>It is important to note that the IMDG, although a memory-based service, is fully transactional, and follows the ACID (Atomicity, Concurrency, Isolation and Durability) transactional rules.</p>

<p>The IMDG uses the unified clustering layer, to provide a highly available and reliable service.</p>

<p>The main API to access the IMDG service, is the <a href="The GigaSpace Interface.html" title="The GigaSpace Interface"><tt>GigaSpace</tt> interface</a>. In addition, one can use the Map API (using the <a href="The GigaMap Interface.html" title="The GigaMap Interface">GigaMap interface</a>) to access the IMDG. Please refer to the <a href="Programmer's Guide.html" title="Programmer's Guide">Programmer's Guide</a> for usage examples.</p>

<h2><a name="ProductArchitecture-MessagingGrid"></a>Messaging Grid</h2>

<p>The messaging grid aspect of the space, provides messaging capabilities such as:</p>
<ol>
	<li>Event-Driven capabilities - the ability to build event-driven processing applications. This model enables fast (in-memory-based) asynchronous modular processing, resulting in a very efficient and scalable processing paradigm.</li>
	<li>Asynchronous production and consumption of information.</li>
	<li>One-to-one, Many-to-One, One-to-Many and Many-to-Many relationships.</li>
	<li><a href="FIFO Support.html" title="FIFO Support">FIFO</a> ordering.</li>
	<li><a href="Transaction Management.html" title="Transaction Management">Transaction Management</a>.</li>
</ol>


<p>The core APIs used for messaging are the OpenSpaces <a href="Notify Container.html" title="Notify Container">Notify</a> and <a href="Polling Container.html" title="Polling Container">Polling</a> Containers. In addition, there is a <a href="JMS API Support.html" title="JMS API Support">JMS 1.1 implementation</a> available to be used with existing applications. More information can be found in the <a href="Messaging and Events.html" title="Messaging and Events">Messaging and Events</a> section.</p>

<h2><a name="ProductArchitecture-ProcessingServices"></a>Processing Services</h2>
<p>Processing services include parallel processing capabilities.</p>

<h3><a name="ProductArchitecture-ParallelProcessing"></a>Parallel Processing</h3>
<p>Sometimes the scalability bottleneck is within the processing capabilities. This means that there is a need to gain more processing power to be executed concurrently. In other words, there is a need for parallel processing. When there is no state involved, it is common to spawn many processes on multiple machines, and to assign a different task to each process.</p>

<p>However, the problem becomes much more complex when the tasks for execution require sharing of information. GigaSpaces XAP has built-in services for parallel processing. The master/worker pattern is used, where one process serves as the master and writes objects into the space, and many worker services each take work for execution and share the results. The workers then request a new piece of work, and so on. This pattern is important in practice, since it automatically balances the load.</p>

<h3><a name="ProductArchitecture-ComputeGrid"></a>Compute Grid</h3>

<p>Compute grid is a mechanism that allows you to run user code on all/some nodes of the grid, so that the code can run in collocation with the data.</p>

<p>Compute grids are an efficient solution when a computation requires a large data set to be processed, so that moving the code to where the data is, is much more efficient than moving the data to where the code is.</p>

<p>The efficiency derives from the fact that the processing task is sent to all the desired grid nodes concurrently. A partial result is calculated using the data on that  particular node, and then sent back to the client, where all the partial results are reduced to a final result.</p>

<p>The process is widely known as map/reduce, and is used extensively by companies like Google whenever a large data set needs to be processed in a short amount of time.</p>


<h3><a name="ProductArchitecture-BusinessLogicHosting"></a>Business Logic Hosting</h3>
<p>Another aspect of processing is business logic hosting. This is covered in Lightweight Application Containers below.</p></div>

<h1><a name="ProductArchitecture-LightweightApplicationContainers"></a>Lightweight Application Containers</h1>
<div class="error"><span class="error">Error formatting macro: toc-zone: java.lang.NullPointerException</span> 
<p>Lightweight application containers provide a business logic execution environment at the node level. They also translate SBA semantics and services to the relevant container development framework implementation. For example, space transactions are translated to Spring transactions, when a Spring lightweight container is used.</p>

<p>The Grid Service Container (GSC) is responsible for providing Grid capabilities, whereas the lightweight container implementation is responsible at the single VM level.</p>

<p>For this reason, this architecture is very powerful, as it enables applications to take advantage of the familiar programming models and services at the single VM level, and in addition provides grid capabilities and services on top.</p>

<p>GigaSpaces XAP provides several default implementations as part of the product, and an additional plugin API, to enable other technology integrations.</p>

<p><b>Current implementations supported by GigaSpaces XAP</b>: </p>
<div class="error"><span class="error">Error formatting macro: toc-zone: java.lang.NullPointerException</span> </div>

<p>More information on the usage of the above integrations can be found in the <a href="Programmer's Guide.html" title="Programmer's Guide">Programmer's Guide</a>.</p>

<h2><a name="ProductArchitecture-SpringContainer"></a>Spring Container</h2>

<p>The Spring framework container integration is built-in to XAP, and provides the ability to take advantage of <a href="http://www.springframework.org/about">Spring framework</a> components, programming model and capabilities.</p>

<p>The Spring framework provides very elegant abstractions, which makes it very easy to build layered and decoupled applications.</p>

<h2><a name="ProductArchitecture-JettyWebContainer"></a>Jetty Web Container</h2>

<p>Jetty is a very popular web container, which provides support for JEE <a href="Web Processing Unit Container.html" title="Web Processing Unit Container">web container</a> specification services such as: Servlet, JavaServer Pages, JavaServer Faces, and others.</p>

<p>The <a href="Web Jetty Processing Unit Container.html" title="Web Jetty Processing Unit Container">integration with the Jetty web container</a>, allows you to run JEE web applications (.war files) on top of GigaSpaces XAP. </p>

<h2><a name="ProductArchitecture-Microsoft.NETcontainer"></a>Microsoft .NET container</h2>

<p>The .NET SBA application takes advantage of the ability to run business services and .NET code, collocated with the data stored within the space.</p>

<p>The <a href="http://www.gigaspaces.com/wiki/display/XAP8NET/Programmer%27s+Guide" title="Programmer's Guide">.NET container</a> bridges the technical gap and provides a native .NET experience for .NET applications.</p>

<h2><a name="ProductArchitecture-CContainer"></a>C++ Container</h2>

<p>Much like the .NET container, the <a href="CPP Processing Unit.html" title="CPP Processing Unit">CPP Processing Unit</a> provides a native C++ runtime environment for C++ SBA applications.</p>

<h2><a name="ProductArchitecture-Mule"></a>Mule</h2>

<p>Mule is a very popular open source Enterprise Services Bus implementation in Java. The <a href="Mule ESB.html" title="Mule ESB">Mule container integration</a> allows you to run a Mule application on top of the GigaSpaces XAP, and gain scalability, performance and high-availability, with almost no changes to the Mule application.</p></div>

<h1><a name="ProductArchitecture-OpenSpacesAPIandComponents"></a>OpenSpaces - API and Components</h1>
<div class="error"><span class="error">Error formatting macro: toc-zone: java.lang.NullPointerException</span> 
<h2><a name="ProductArchitecture-Overview"></a>Overview</h2>
<p>OpenSpaces is the programmer's API. It is an open-source <a href="http://www.springframework.org/about">Spring-based</a> application interface designed to make space-based development easy, reliable, and scalable. In addition, the programming model is non-intrusive, based on a simple POJO programming model and a clean integration point with other development frameworks.</p>

<p>The OpenSpaces API is divided into four parts: </p>
<ul>
	<li>Core</li>
	<li>Messaging and Events</li>
	<li>Space Based Remoting</li>
	<li>Integrations</li>
</ul>


<h2><a name="ProductArchitecture-Core"></a>Core</h2>
<p>The core package of OpenSpaces provides APIs for direct access to space. The main interface is the GigaSpace, which enables the basic interaction with the space. The core components include basic infrastructure support such as Space construction, simplified API using the <a href="The GigaSpace Interface.html" title="The GigaSpace Interface">GigaSpace</a> interface including <a href="Transaction Management.html" title="Transaction Management">Transaction Management</a> and declarative transaction support. Core components also include support for <a href="The Map Component.html" title="The Map Component">Map/Cache</a> construction and a simplified API using <a href="The GigaMap Interface.html" title="The GigaMap Interface">GigaMap</a>.</p>

<h2><a name="ProductArchitecture-Events"></a>Events</h2>
<p>The events package is built on top of the core package, and provides POJO-based event processing components through the event containers, making it equivalent to Java EE message-driven beans. The event package enables simple construction of event-driven applications.</p>

<p>Another alternative for events, is the usage of JMS 1.1 on top of GigaSpaces, which is supported within the product and is recommended for client applications integrating with SBA applications.</p>

<p>The events module includes components for simplified EDA/Service Bus development. These components allow <a href="Data Event Listener.html" title="Data Event Listener">unified event-handling</a> and provide two mechanisms for event-generation: a <a href="Polling Container.html" title="Polling Container">Polling Container</a> uses polling received operations against the space, and a <a href="Notify Container.html" title="Notify Container">Notify Container</a> which uses the space's built-in notification support.</p>


<h2><a name="ProductArchitecture-SpaceBasedRemoting"></a>Space Based Remoting</h2>
<p>The <a href="Space Based Remoting.html" title="Space Based Remoting">Remoting</a> package provides capabilities for clients to access remote services. Remoting in GigaSpaces XAP is implemented on top of the space and the common clustering model, which provides location transparency, fail-over, and performance to remote service invocations. OpenSpaces implements <a href="Space Based Remoting.html" title="Space Based Remoting">remoting</a>, using the space as the transport layer, similar to <a href="http://static.springframework.org/spring/docs/2.0.x/reference/remoting.html">other Spring remoting components</a>.</p>

<p>Remoting can be viewed as the alternative to Java EE Session Beans, or Java RMI, as it provides all of their capabilities as well as supporting synchronous and asynchronous invocations, and dynamic scripting languages - enabling you to use Groovy or Ruby in your space-based applications. </p>

<h2><a name="ProductArchitecture-Integrations"></a>Integrations</h2>
<p>This package contains integrations with non-XAP components. For more information please refer to the Programmers Guide.</p>
</div>

<hr 
 size="1" 
 color="C9C9C9" 
 >
<p><img src="download/attachments/19890517/referto.gif" align="absmiddle" border="0"/>  <b>Next chapter</b>: <a href="Terminology.html" title="Terminology">Terminology</a></p>

                     </td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td height="12" background="http://www.gigaspaces.com/wiki/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
</tr>
<tr>
<td align="center"><font color="grey"><a href="http://www.gigaspaces.com">GigaSpaces.com</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xwBmAg" class="smalltext">Legal Notice</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xgBmAg" class="smalltext">3rd Party Licenses</a> -
		<a href="http://www.gigaspaces.com/wiki/x/BQFmAg" class="smalltext">Site Map</a> -
		<a href="http://www.gigaspaces.com/wiki/display/API/API+Documentation+Portal" class="version-link">API Docs</a> -
		<a href="http://forum.openspaces.org/forum.jspa?forumID=175" class="version-link">Forum</a> -
		<a href="http://www.gigaspaces.com/LatestProductVersion" class="version-link">Downloads</a> -
		<a href="http://blog.gigaspaces.com/" class="version-link">Blog</a> -
		<a href="http://www.gigaspaces.com/os_papers.html" class="version-link">White Papers</a> -
		<a href="mailto:techw@gigaspaces.com">Contact Tech Writing</a> -
		<i><a href="http://www.atlassian.com/software/confluence">Gen. by Atlassian Confluence</a></i></font></td>
</tr>
</table>
     </body>
</html>
