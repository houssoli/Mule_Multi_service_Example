<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
     <head>
         <title>XAP 8.0 Documentation : CPP API Configuration File</title>
<link rel="stylesheet" href="styles/site.css" type="text/css" />
         <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
		 <style>
.back-to {
	color: #666666;
	font-weight: bold;
}	 
a.back-to:link, a.back-to:visited, a.back-to:hover, a.back-to:active  {
	color: #666666;
}	 
		 </style>
     </head>

     <body>
<table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
<tr>
<td valign="top" class="pagebody">
<div class="pageheader">
<span class="back-to">XAP 8.0 Documentation > <a href="index.html">Back to Table of Contents</a></span><br>
<h1>CPP API Configuration File</h1>
</div>
<br>

<p>

<div style="border-style:solid; border-color:#3C78B5; border-width:thin; padding-left:20px; padding-bottom:20px; padding-top:20px; padding-right:20px; background-color:#D8E4F1"> 

<p><b>Section Summary:</b>  C++ configuration file and setting the JVM options. </p>
</div><br clear="all" /></p>
<h1><a name="CPPAPIConfigurationFile-Overview"></a>Overview</h1>

<p>Configuring C+&#43; client settings is done using the <tt>config.xml</tt> file located under <tt>cpp\config</tt>.<br/>
The user can change the name and location of the configuration file by defining the Environment variable JVMCONFIG.</p>

<h1><a name="CPPAPIConfigurationFile-C%5CConfigurationFileExample"></a>C+&#43; Configuration File Example</h1>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;?xml version=<span class="code-quote">"1.0"</span> encoding=<span class="code-quote">"utf-8"</span>?&gt;
&lt;configuration&gt;
  &lt;GigaSpacesCpp&gt;
    &lt;<span class="code-object">Runtime</span>&gt;
      &lt;JvmSettings&gt;
        &lt;!--add key=<span class="code-quote">"JVMPath"</span> value=<span class="code-quote">"C:\Program Files\Java\jdk1.6.0_01\jre\bin\client"</span> /--&gt;
        &lt;add key=<span class="code-quote">"ClassPath"</span> value=<span class="code-quote">"$JSHOMEDIR/lib/ext/TestClasses.jar"</span> /&gt;
        &lt;add key=<span class="code-quote">"TraceLevel"</span> value=<span class="code-quote">"STDERR ERROR DEBUG INFO TOFILE=logfile.txt "</span> /&gt;
        &lt;add key=<span class="code-quote">"InitialHeapSize"</span> value=<span class="code-quote">"64m"</span> /&gt;
        &lt;add key=<span class="code-quote">"MaximumHeapSize"</span> value=<span class="code-quote">"512m"</span> /&gt;
        &lt;add key=<span class="code-quote">"CheckJNI"</span> value=<span class="code-quote">"<span class="code-keyword">true</span>"</span> /&gt;
        &lt;add key=<span class="code-quote">"Loader"</span> value=<span class="code-quote">"com/gigaspaces/javacpp/CXXProcessingUnit"</span> /&gt;
        &lt;!--&lt;add key=<span class="code-quote">"SourceClassPath"</span> value="$JSHOMEDIR/classes;$JSHOMEDIR;$JSHOMEDIR/src/java/resources;
         $JSHOMEDIR/cpp/java/src/bin;$JSHOMEDIR/lib/jini/jsk-lib.jar;
         $JSHOMEDIR/lib/jini/jsk-platform.jar;$JSHOMEDIR/lib/jini/reggie.jar;$JSHOMEDIR/lib/ServiceGrid/gs-service.jar;
         $JSHOMEDIR/tools/lib/jms.jar;$JSHOMEDIR/tools/lib/backport-util.jar" /&gt;--&gt;
      &lt;/JvmSettings&gt;
      &lt;Options&gt;
        &lt;!--&lt;add value=<span class="code-quote">"-Djava.util.logging.config.file=$JSHOMEDIR\config\gs_logging.properties"</span>/&gt;
        &lt;add value=<span class="code-quote">"-agentlib:jprofilerti=port=8849"</span>/&gt;
        &lt;add value=<span class="code-quote">"-Xbootclasspath/a:d:\Program Files\jprofiler5\bin\agent.jar"</span>/&gt;--&gt;

        &lt;!--&lt;add value=<span class="code-quote">"-Dcom.sun.management.jmxremote.port=5003"</span> /&gt;
        &lt;add value=<span class="code-quote">"-Dcom.sun.management.jmxremote.ssl=<span class="code-keyword">false</span>"</span> /&gt;
        &lt;add value=<span class="code-quote">"-Dcom.sun.management.jmxremote.authenticate=<span class="code-keyword">false</span>"</span> /&gt;--&gt;
        &lt;!--&lt;add value=<span class="code-quote">"-Dcom.gs.onewaywrite=<span class="code-keyword">true</span>"</span> /&gt;--&gt;
        &lt;!--&lt;add value=<span class="code-quote">"-Xdebug"</span> /&gt;
        &lt;add value=<span class="code-quote">"-Xnoagent"</span> /&gt;
        &lt;add value=<span class="code-quote">"-Djava.compiler=NONE"</span> /&gt;
        &lt;add value=<span class="code-quote">"-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8001"</span> /&gt;--&gt;
        &lt;!--&lt;add value=<span class="code-quote">"-verbose:class"</span> /&gt;--&gt;
      &lt;/Options&gt;
    &lt;/<span class="code-object">Runtime</span>&gt;
  &lt;/GigaSpacesCpp&gt;
&lt;/configuration&gt;</pre>
</div></div>

<h1><a name="CPPAPIConfigurationFile-JVMSettings"></a>JVM Settings</h1>

<p>Some options should be predefined in the <tt>JvmSettings</tt> section:</p>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Name </th>
<th class='confluenceTh'> Description </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>ClassPath</tt> </td>
<td class='confluenceTd'> Adds Java classes to the JVM classpath </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>TraceLevel</tt> </td>
<td class='confluenceTd'> Sets the C+&#43; trace levels and output file </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>InitialHeapSize</tt> </td>
<td class='confluenceTd'> Intial JVM heap size </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>MaximumHeapSize</tt> </td>
<td class='confluenceTd'> Maximum heap size </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>SourceClassPath</tt> </td>
<td class='confluenceTd'> Adds Java classes, used for debugging </td>
</tr>
</tbody></table>

<h1><a name="CPPAPIConfigurationFile-Options"></a>Options</h1>

<p>Any value that is added here is added to the command that creates the JVM.</p>

<p>Any key can be added.</p>

<h2><a name="CPPAPIConfigurationFile-Debugging"></a>Debugging</h2>

<p>To debug from Eclipse, remove the remark from the following lines:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;\!--&lt;add value=<span class="code-quote">"-Xdebug"</span> /&gt;</span>
<span class="code-tag">&lt;add value=<span class="code-quote">"-Xnoagent"</span> /&gt;</span>
<span class="code-tag">&lt;add value=<span class="code-quote">"-Djava.compiler=NONE"</span> /&gt;</span>
<span class="code-tag">&lt;add value=<span class="code-quote">"-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8001"</span> /&gt;</span>-\-&gt;</pre>
</div></div>
<p>This allows the client to connect from its Java debugger.</p>

<h2><a name="CPPAPIConfigurationFile-ConnectingtoJMX"></a>Connecting to JMX</h2>

<p>Remove the remark from the following lines for connecting a JMX client:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;\!--&lt;add value=<span class="code-quote">"-Dcom.sun.management.jmxremote.port=5003"</span> /&gt;</span>
<span class="code-tag">&lt;add value=<span class="code-quote">"-Dcom.sun.management.jmxremote.ssl=false"</span> /&gt;</span>
<span class="code-tag">&lt;add value=<span class="code-quote">"-Dcom.sun.management.jmxremote.authenticate=false"</span> /&gt;</span>-\-&gt;</pre>
</div></div>

                     </td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td height="12" background="http://www.gigaspaces.com/wiki/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
</tr>
<tr>
<td align="center"><font color="grey"><a href="http://www.gigaspaces.com">GigaSpaces.com</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xwBmAg" class="smalltext">Legal Notice</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xgBmAg" class="smalltext">3rd Party Licenses</a> -
		<a href="http://www.gigaspaces.com/wiki/x/BQFmAg" class="smalltext">Site Map</a> -
		<a href="http://www.gigaspaces.com/wiki/display/API/API+Documentation+Portal" class="version-link">API Docs</a> -
		<a href="http://forum.openspaces.org/forum.jspa?forumID=175" class="version-link">Forum</a> -
		<a href="http://www.gigaspaces.com/LatestProductVersion" class="version-link">Downloads</a> -
		<a href="http://blog.gigaspaces.com/" class="version-link">Blog</a> -
		<a href="http://www.gigaspaces.com/os_papers.html" class="version-link">White Papers</a> -
		<a href="mailto:techw@gigaspaces.com">Contact Tech Writing</a> -
		<i><a href="http://www.atlassian.com/software/confluence">Gen. by Atlassian Confluence</a></i></font></td>
</tr>
</table>
     </body>
</html>
