<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
     <head>
         <title>XAP 8.0 Documentation : Step One - Using Processing Units for Scaling</title>
<link rel="stylesheet" href="styles/site.css" type="text/css" />
         <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
		 <style>
.back-to {
	color: #666666;
	font-weight: bold;
}	 
a.back-to:link, a.back-to:visited, a.back-to:hover, a.back-to:active  {
	color: #666666;
}	 
		 </style>
     </head>

     <body>
<table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
<tr>
<td valign="top" class="pagebody">
<div class="pageheader">
<span class="back-to">XAP 8.0 Documentation > <a href="index.html">Back to Table of Contents</a></span><br>
<h1>Step One - Using Processing Units for Scaling</h1>
</div>
<br>

<script type='text/javascript'>//<![CDATA[
function debug() { }
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/browser.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/behaviour.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/memory.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/cloak.js'>//<![CDATA[
// ]]></script><script type='text/javascript'>//<![CDATA[
Cloak.closeHTML = "<img src=\'/wiki/download/resources/net.customware.confluence.plugin.composition:toggle-cloak/img/navigate_down_10.gif\'/>";
Cloak.openHTML = "<img src=\'/wiki/download/resources/net.customware.confluence.plugin.composition:toggle-cloak/img/navigate_right_10.gif\'/>";
Cloak.toggleZone = true;
Cloak.memoryDuration = 0;
Cloak.memoryPrefix = "contentId:53903581";
Cloak.memoryPath = "/wiki/";
// ]]></script><style type='text/css'>
.cloakToggle { /* Definition for state toggling image */
cursor:hand;
cursor:pointer;
}
</style><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/transitions.js'>//<![CDATA[
// ]]></script><script type='text/javascript' src='/wiki/download/resources/net.customware.confluence.plugin.composition:composition-setup/js/deck.js'>//<![CDATA[
// ]]></script><link rel='stylesheet' type='text/css'  href='/wiki/styles/main-action.css?pluginCompleteKey=net.customware.confluence.plugin.composition:composition-setup&stylesheetName=deck&spaceKey=XAP8'/><script type='text/javascript'>//<![CDATA[
Deck.memoryDuration = 0;
Deck.memoryPrefix = "contentId:53903581";
Deck.memoryPath = "/wiki/";
// ]]></script>

<script language="JavaScript">
<!--
// Get all div elemnts inside an array
var elements = document.getElementsByTagName('div');
i = 0 ;
var singleDiv = elements[i];
// Loop through the array and unhide every div element with name equals...
while( singleDiv != null )
{ 
	if (singleDiv.getAttribute('name') == "showForVariantjava")
	{
		singleDiv.style.display = 'block';
	}
	singleDiv = elements[i++];
}
-->
</script>
<p><b>Summary:</b> In this step we will use a car wash analogy to compare the traditional tier based approach for architecting enterprise application with GigaSpaces' Space Based approach, and explain the concept of <em>Processing Units</em>. </p>

<h4><a name="StepOne-UsingProcessingUnitsforScaling-Preface"></a>Preface</h4>
<p>Once in a while you need to wash your car. Some people keep their car in superb condition and wash it very often, while others transform it skillfully into a mega-junk-mobile and take it to the car wash very rarely, if ever. But the fact remains that most people will bring their car to the car wash at one stage or another</p>

<h4><a name="StepOne-UsingProcessingUnitsforScaling-WashingYourCarTheTierBasedWay"></a>Washing Your Car The Tier-Based Way </h4>
<p>In a tier-based architecture, our system is composed of several disparate physical tiers - meaning the database, the messaging queue and the application server. So every time your application needs to get something done, it typically goes through all these components. Imagine using this approach to wash your car. Each tier is analogous to a phase in our washing process: Firstly, the dirty car is transported to a soaping warehouse, where it is covered with soap. The next stop is transporting the "soaped" car to a different warehouse, where it is watered to rinse off the soap. The last step is transporting the car to yet another warehouse, which specializes in drying water marks, to dry and wipe all the water off of it.</p>

<p>Fortunately, we don't clean cars this way, because transporting the car to each of the warehouses (which might be geographically remote from one another) would take a considerable amount of time.
<br clear="all" />
<br clear="all" /></p>
<div class="" align="center"><img src="download/attachments/17301573/Tierbased2.jpg" align="absmiddle" border="0"/></div>

<div class="" align="center"><b><sub>Diagram 1. Car wash, the tier based way: a different warehouse for each step in the process.</sub></b></div>

<p><br clear="all" />
<br clear="all" /></p>
<h4><a name="StepOne-UsingProcessingUnitsforScaling-WashingtheCarUsingSpaceBasedArchitecture"></a>Washing the Car Using Space-Based Architecture</h4>
<p>What we actually do, is send the car a single warehouse, which has all the services available in the same place (we call this colocation). That way this services can be accessed much faster. One local machine soaps it, another local washing machine waters it, and finally a third local machine uses hot air to dry it and remove all the water marks. This an all-in-one warehouse, containing a depot to hold the car and all the collocated services for washing, rinsing and drying it. In the GigaSpaces language, we call this a <em>Processing Unit</em> - in this case a carwash processing unit. </p>

<p>Going back to the real world (where enterprise applications live...), imagine that your application will have all the services it needs in the same location (operating system process to be specific). So it will not go through separate physical layers just to access the data or send and receive messages. This is the concept behind GigaSpaces' Processing Unit. 
<br clear="all" />
<br clear="all" /></p>
<div class="" align="center"><img src="download/attachments/17301573/Spacebased.jpg" align="absmiddle" border="0"/></div>

<div class="" align="center"><b><sub>Diagram 2. An all-in-one "washing unit" containing soaping, watering and drying services.</sub></b></div>

<p><br clear="all" />
<br clear="all" /></p>
<h4><a name="StepOne-UsingProcessingUnitsforScaling-ScalingEasilywithSelfContainedProcessingUnits"></a>Scaling Easily with Self Contained Processing Units</h4>
<p>Self contained Processing Units also have the advantage that they can be easily scaled. If we have more cars to wash than a single unit can handle, the system can be scaled almost linearly, by simply adding more car washing units.
<br clear="all" />
<br clear="all" /></p>
<div class="" align="center"><img src="download/attachments/17301573/Spacebasedscaled.jpg" align="absmiddle" border="0"/></div>

<div class="" align="center"><b><sub>Diagram 3. Scaling the system by adding more "car washing units".</sub></b></div>

<p><br clear="all" />
<br clear="all" /></p>
<h4><a name="StepOne-UsingProcessingUnitsforScaling-AGigaSpacesProcessingUnit"></a>A GigaSpaces Processing Unit</h4>

<p>Now let's translate this to the enterprise application terminology. In the diagram below you can see a GigaSpaces Processing Unit instance, which runs within a Processing Unit Container. (This is in fact a JVM with a thin layer that knows how to run processing units.) <br/>
You can see the <em>Space</em> (the "car depot") in the center of the processing unit. The space holds objects in the local JVM memory, making them accessible to all the local services (the "washing services"). The space can also act as a messaging layer, by notifying the relevant service when a particular object is written to it. The services can then respond to the message by processing it, and writing it back to the space. They can also use the space to retrieve additional pieces of information needed for the processing. A client application can interact with the space-side services by writing objects to the Processing Unit's space and reading them after they are processed. We can linearly scale the system by simply adding more Processing Unit instances, since the processing units are entirely independent of one another.
<br clear="all" /></p>
<div class="" align="center"><img src="download/attachments/17301573/Spacebasedreal.jpg" align="absmiddle" border="0"/></div>

<div class="" align="center"><b><sub>Diagram 4. A Processing Unit with 3 services collocated with a space.</sub></b></div>

<p><br clear="all" />
<br clear="all" /></p>


<h2><a name="StepOne-UsingProcessingUnitsforScaling-What%27sNext%3F"></a>What's Next?</h2>
<p><img src="download/attachments/17301573/Jump arrow green.bmp" align="absmiddle" border="0"/> <font color="green"><b>Next Page</b></font> - <a href="Step Two - Creating the Hello World Application.html" title="Step Two - Creating the Hello World Application">Step two - Creating the Hello World Application</a>. Shows how to create your first GigaSpaces application and run it on your local machine.</p>

<p>Or return to the <a href="Writing Your First XTP Application.html" title="Writing Your First XTP Application">Writing Your First XTP Application</a> page.</p>

                     </td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td height="12" background="http://www.gigaspaces.com/wiki/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
</tr>
<tr>
<td align="center"><font color="grey"><a href="http://www.gigaspaces.com">GigaSpaces.com</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xwBmAg" class="smalltext">Legal Notice</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xgBmAg" class="smalltext">3rd Party Licenses</a> -
		<a href="http://www.gigaspaces.com/wiki/x/BQFmAg" class="smalltext">Site Map</a> -
		<a href="http://www.gigaspaces.com/wiki/display/API/API+Documentation+Portal" class="version-link">API Docs</a> -
		<a href="http://forum.openspaces.org/forum.jspa?forumID=175" class="version-link">Forum</a> -
		<a href="http://www.gigaspaces.com/LatestProductVersion" class="version-link">Downloads</a> -
		<a href="http://blog.gigaspaces.com/" class="version-link">Blog</a> -
		<a href="http://www.gigaspaces.com/os_papers.html" class="version-link">White Papers</a> -
		<a href="mailto:techw@gigaspaces.com">Contact Tech Writing</a> -
		<i><a href="http://www.atlassian.com/software/confluence">Gen. by Atlassian Confluence</a></i></font></td>
</tr>
</table>
     </body>
</html>
