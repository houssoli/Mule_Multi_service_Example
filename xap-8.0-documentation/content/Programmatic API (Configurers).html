<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
     <head>
         <title>XAP 8.0 Documentation : Programmatic API (Configurers)</title>
<link rel="stylesheet" href="styles/site.css" type="text/css" />
         <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
		 <style>
.back-to {
	color: #666666;
	font-weight: bold;
}	 
a.back-to:link, a.back-to:visited, a.back-to:hover, a.back-to:active  {
	color: #666666;
}	 
		 </style>
     </head>

     <body>
<table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
<tr>
<td valign="top" class="pagebody">
<div class="pageheader">
<span class="back-to">XAP 8.0 Documentation > <a href="index.html">Back to Table of Contents</a></span><br>
<h1>Programmatic API (Configurers)</h1>
</div>
<br>



<div style="border-style:solid; border-color:#3C78B5; border-width:thin; padding-left:20px; padding-bottom:20px; padding-top:20px; padding-right:20px; background-color:#D8E4F1"> 

<p><b>Section Summary:</b>  This section describes how you can use OpenSpaces components in a non-Spring environment. The constructs which are used to create and configure GigaSpaces components are called <b>Configurers</b> . </p>
</div>

<h1><a name="ProgrammaticAPI%28Configurers%29-Overview"></a>Overview</h1>
<p><img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> In many cases, you don't want to use Spring only to interact with GigaSpaces components, or even do not use Spring at all in your organization.</p>

<p>You can always "imitate" Spring, and call the OpenSpaces Spring FactoryBeans from your own code, but that's not very clean, and requires you to dig through the OpenSpaces code to understand how Spring and OpenSpaces work.</p>

<h1><a name="ProgrammaticAPI%28Configurers%29-OpenSpacesforNonSpringUsers"></a>OpenSpaces for Non-Spring Users</h1>
<p>Since version 6.0.2, you have the option of programmatically creating GigaSpaces components, as opposed to creating them declaratively in your Spring XML configuration.</p>

<p>This is also very useful if you're using code-based configuration frameworks to configure your application such as <a href="http://code.google.com/p/google-guice">Google Guice</a> or <a href="http://www.springframework.org/javaconfig">Spring JavaConfig</a>. </p>

<h2><a name="ProgrammaticAPI%28Configurers%29-SomeHistory"></a>Some History</h2>
<p>Up until version 6.0, the preferred API to use GigaSpaces was JavaSpaces with some proprietary extensions. In 6.0 we introduced OpenSpaces framework, which greatly simplified things and made the user experience much more positive by abstracting away a lot of the API problems and inconsistencies.</p>

<p>From day one, OpenSpaces has been tightly coupled with Spring. It uses Spring for configuration, and utilizes a lot of goodies that Spring provides, such as Spring's transaction management framework, namespace-based configuration, AOP and more.</p>

<p>However, since OpenSpaces' goal is become the preferred Java API for the product, the fact that you could only use it through Spring was a bit limiting to some of our users.</p>

<h1><a name="ProgrammaticAPI%28Configurers%29-IntroducingConfigurers"></a>Introducing Configurers </h1>
<p>Below are a number of code snippets to show you how this is done. Let's first show the <b>Spring equivalent</b> of creating a space instance, and then wiring your listener on top of it, using a polling container:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-xml"><span class="code-tag">&lt;os-core:space id=<span class="code-quote">"space"</span> url=<span class="code-quote">"/./space"</span> /&gt;</span>
<span class="code-tag">&lt;os-core:giga-space id=<span class="code-quote">"gigaSpace"</span> space=<span class="code-quote">"space"</span>/&gt;</span>
<span class="code-tag">&lt;bean id=<span class="code-quote">"simpleListener"</span> class=<span class="code-quote">"SimpleListener"</span> /&gt;</span>
<span class="code-tag">&lt;os-events:polling-container id=<span class="code-quote">"eventContainer"</span> giga-space=<span class="code-quote">"gigaSpace"</span>&gt;</span>
<span class="code-tag">&lt;os-core:template&gt;</span>
        <span class="code-tag">&lt;bean class=<span class="code-quote">"org.openspaces.example.data.common.Data"</span>&gt;</span>
            <span class="code-tag">&lt;property name=<span class="code-quote">"processed"</span> value=<span class="code-quote">"false"</span>/&gt;</span>
        <span class="code-tag">&lt;/bean&gt;</span>
    <span class="code-tag">&lt;/os-core:template&gt;</span>
<span class="code-tag">&lt;os-events:listener&gt;</span>
        <span class="code-tag">&lt;os-events:annotation-adapter&gt;</span>
            <span class="code-tag">&lt;os-events:delegate ref=<span class="code-quote">"simpleListener"</span>/&gt;</span>
        <span class="code-tag">&lt;/os-events:annotation-adapter&gt;</span>
    <span class="code-tag">&lt;/os-events:listener&gt;</span>
<span class="code-tag">&lt;/os-events:polling-container&gt;</span></pre>
</div></div>

<p><img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> The above XML snippet creates a space, and registers to get notified on all objects of type Data, whose processed field equals false.</p>

<p>Here's how this is done in Java code, via configurers:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"><span class="code-comment">//creating a space
</span>IJSpace space = <span class="code-keyword">new</span> UrlSpaceConfigurer(<span class="code-quote">"/./space"</span>).space();
<span class="code-comment">//wrapping it with a GigaSpace
</span>GigaSpace gigaSpace = <span class="code-keyword">new</span> GigaSpaceConfigurer(space).gigaSpace();
<span class="code-comment">//creating polling container
</span>Data template = <span class="code-keyword">new</span> Data();
template.setProcessed(<span class="code-keyword">false</span>);
SimplePollingEventListenerContainer pollingEventListenerContainer = <span class="code-keyword">new</span> SimplePollingContainerConfigurer(gigaSpace)
.template(template)
.eventListenerAnnotation(<span class="code-keyword">new</span> SimpleListener())
.pollingContainer();</pre>
</div></div>

<p><img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0"/> That's it - as you can see, it's even simpler than the XML equivalent.</p>

<h2><a name="ProgrammaticAPI%28Configurers%29-AdditionalNotes"></a>Additional Notes</h2>
<ul>
	<li>All of the configurers use <b>method chaining</b>, which makes them very intuitive to use. It's about as close as you can get to domain specific languages in pure Java.</li>
	<li>There are configurers for all of the OpenSpaces constructs, specifically: Space, GigaSpace, Event containers, Remoting Proxies and Scripting Proxies.</li>
</ul>


<h2><a name="ProgrammaticAPI%28Configurers%29-WhereisthisDocumented%3F"></a>Where is this Documented?</h2>
<p>Every OpenSpaces <a href="The Space Component.html" title="The Space Component">documentation page</a> includes code snippets that show how to configure it.</p>

<p>The configuration is displayed in a tabbed pane, which typically includes the following tabs:</p>
<ul>
	<li>Namespace - shows how to configure the component using Spring's namespaces support and the OpenSpaces-specific elements</li>
	<li>Plain XML - shows how to configure the component via pure Spring, without GigaSpaces-specific elements</li>
	<li>Annotation (if relevant) - shows how to configure the component via Spring and OpenSpaces' annotation support annotations</li>
	<li><b>Code - shows how to configure the component programmatically, using configurers</b></li>
</ul>



                     </td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td height="12" background="http://www.gigaspaces.com/wiki/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
</tr>
<tr>
<td align="center"><font color="grey"><a href="http://www.gigaspaces.com">GigaSpaces.com</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xwBmAg" class="smalltext">Legal Notice</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xgBmAg" class="smalltext">3rd Party Licenses</a> -
		<a href="http://www.gigaspaces.com/wiki/x/BQFmAg" class="smalltext">Site Map</a> -
		<a href="http://www.gigaspaces.com/wiki/display/API/API+Documentation+Portal" class="version-link">API Docs</a> -
		<a href="http://forum.openspaces.org/forum.jspa?forumID=175" class="version-link">Forum</a> -
		<a href="http://www.gigaspaces.com/LatestProductVersion" class="version-link">Downloads</a> -
		<a href="http://blog.gigaspaces.com/" class="version-link">Blog</a> -
		<a href="http://www.gigaspaces.com/os_papers.html" class="version-link">White Papers</a> -
		<a href="mailto:techw@gigaspaces.com">Contact Tech Writing</a> -
		<i><a href="http://www.atlassian.com/software/confluence">Gen. by Atlassian Confluence</a></i></font></td>
</tr>
</table>
     </body>
</html>
