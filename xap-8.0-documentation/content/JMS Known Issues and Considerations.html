<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
     <head>
         <title>XAP 8.0 Documentation : JMS Known Issues and Considerations</title>
<link rel="stylesheet" href="styles/site.css" type="text/css" />
         <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
		 <style>
.back-to {
	color: #666666;
	font-weight: bold;
}	 
a.back-to:link, a.back-to:visited, a.back-to:hover, a.back-to:active  {
	color: #666666;
}	 
		 </style>
     </head>

     <body>
<table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
<tr>
<td valign="top" class="pagebody">
<div class="pageheader">
<span class="back-to">XAP 8.0 Documentation > <a href="index.html">Back to Table of Contents</a></span><br>
<h1>JMS Known Issues and Considerations</h1>
</div>
<br>



<div style="border-style:solid; border-color:#3C78B5; border-width:thin; padding-left:20px; padding-bottom:20px; padding-top:20px; padding-right:20px; background-color:#D8E4F1"> 

<p><b>Section Summary:</b>  JMS API open issues, unsupported features, and considerations  </p>
</div>

<h1><a name="JMSKnownIssuesandConsiderations-Overview"></a>Overview</h1>

<ul>
	<li>GS-2167 &#8211; <b>Durable subscribers</b> are currently not supported. Trying to invoke the <tt>Session.createDurableSubscriber</tt> method or the <tt>Session.unsubscribe</tt> method throws a <tt>JMSException</tt>.</li>
	<li>GS-2168 &#8211; When consuming messages from a Queue, and a session recovery takes place, the <tt>JMSRedelivered</tt> header of the recovered messages is not set. This problem does not occur with Topic recovered messages.<br/>
Message recovery takes place in the following scenarios:
	<ul>
		<li>Transaction rollback.</li>
		<li>The <tt>Session.recover</tt> method is invoked.</li>
		<li>In case of space failover (for more details, see the <a href="JMS Failover.html" title="JMS Failover">JMS failover</a> section).</li>
	</ul>
	</li>
	<li>GS-2169 &#8211; <b>Message Selectors</b> are currently not supported. Creating a <tt>MessageConsumer</tt> with a selector does not effect the message consumption. Note: Since the JMS message is also a space entry, you can use the space template matching and querying features.</li>
	<li>GS-2170 &#8211; <b>Message priority</b> is currently not supported. Currently, all message are have the same priority: <tt>Message.DEFAULT_PRIORITY</tt>. When setting the priority of a message, the priority value is set correctly in the message, but the JMS layer does not take it in consideration.<br/>
As a result, when messages are redelivered, even if a message with higher priority arrives, it is not delivered before other messages.</li>
	<li>GS-2171 &#8211; JMS sessions support only a single <tt>MessageConsumer</tt>. Trying to create a consumer for a session that already has a consumer throws a <tt>JMSException</tt>.</li>
	<li>GS-2173 &#8211; JMS does not support <tt>StreamMessage</tt>. Using this message type will probably cause errors, and therefore is not recommended. A working implementation of <tt>StreamMessage</tt> is planned for future releases.</li>
	<li>GS-2213 &#8211; JMS does not support message delivery threshold. A JMS provider might implement a message delivery threshold that prevents a message from being redelivered (due to session recovery) more times than that threshold number. When that number is passed, the message is sent to a dead letter queue. Currently, this feature is not supported.</li>
	<li>GS-3314 &#8211; In cluster environment, custom JMS destinations that are specified in the properties file are not bound to the RMI registry.<br/>
For example, you may bind a JMS Queue by setting the property <em>space-config.jms.administrated-destinations.queues.queue-names=</em><b><em>gs.Queue1</em></b>. You should expect to find it in the RMI registry as <em>GigaSpaces;ContainerName;spaceName;jms;destinations;</em><b><em>gs.Queue1</em></b>, but it will be missing.<br/>
Workaround:
	<ol>
		<li>Extract the file: DefaultConfig_ClusteredJMS.xml from JSpaces.jar\config to the JS_HOME\config.</li>
		<li>Edit DefaultConfig_ClusteredJMS.xml to contain the required Queue:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;queues&gt;
    &lt;queue-names&gt;MyQueue,TempQueue,gs.Queue1&lt;/queue-names&gt;
&lt;/queues&gt;</pre>
</div></div></li>
		<li>Restart the cluster.<br/>
This should make the required queue available in the RMI registry of all spaces in the cluster.</li>
	</ol>
	</li>
	<li>GS-3478 &#8211; JMS does not support destination partitioning. Currently, all messages of a JMS destination are routed to the same partition. The partition where the messages go is resolved according to the index field of the message which, currently, is the destination name.</li>
</ul>


                     </td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td height="12" background="http://www.gigaspaces.com/wiki/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
</tr>
<tr>
<td align="center"><font color="grey"><a href="http://www.gigaspaces.com">GigaSpaces.com</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xwBmAg" class="smalltext">Legal Notice</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xgBmAg" class="smalltext">3rd Party Licenses</a> -
		<a href="http://www.gigaspaces.com/wiki/x/BQFmAg" class="smalltext">Site Map</a> -
		<a href="http://www.gigaspaces.com/wiki/display/API/API+Documentation+Portal" class="version-link">API Docs</a> -
		<a href="http://forum.openspaces.org/forum.jspa?forumID=175" class="version-link">Forum</a> -
		<a href="http://www.gigaspaces.com/LatestProductVersion" class="version-link">Downloads</a> -
		<a href="http://blog.gigaspaces.com/" class="version-link">Blog</a> -
		<a href="http://www.gigaspaces.com/os_papers.html" class="version-link">White Papers</a> -
		<a href="mailto:techw@gigaspaces.com">Contact Tech Writing</a> -
		<i><a href="http://www.atlassian.com/software/confluence">Gen. by Atlassian Confluence</a></i></font></td>
</tr>
</table>
     </body>
</html>
