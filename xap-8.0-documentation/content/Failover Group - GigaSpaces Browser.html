<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
     <head>
         <title>XAP 8.0 Documentation : Failover Group - GigaSpaces Browser</title>
<link rel="stylesheet" href="styles/site.css" type="text/css" />
         <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
		 <style>
.back-to {
	color: #666666;
	font-weight: bold;
}	 
a.back-to:link, a.back-to:visited, a.back-to:hover, a.back-to:active  {
	color: #666666;
}	 
		 </style>
     </head>

     <body>
<table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
<tr>
<td valign="top" class="pagebody">
<div class="pageheader">
<span class="back-to">XAP 8.0 Documentation > <a href="index.html">Back to Table of Contents</a></span><br>
<h1>Failover Group - GigaSpaces Browser</h1>
</div>
<br>



<div style="border-style:solid; border-color:#3C78B5; border-width:thin; padding-left:20px; padding-bottom:20px; padding-top:20px; padding-right:20px; background-color:#D8E4F1"> 

<p><b>Section Summary:</b>  A failover group defines failover between spaces in the cluster. </p>
</div>
<h1><a name="FailoverGroup-GigaSpacesBrowser-Overview"></a>Overview</h1>
<p>A group can define a failover policy, in which case clients of spaces belonging to the group receive and use a clustered proxy instead of a regular proxy. The failover policy of the group determines the failover behavior for the clustered proxy of any space in the group.<br/>
A group that defines a failover policy is called a failover group. A failover group can also be a replication group and a load-balancing group.</p>
<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>A space cannot reside in different load-balancing and failover groups. In other words, the only way to apply both load balancing and failover to a space is to define these policies for one group, which the space belongs to.</td></tr></table></div>
<p>If an operation performed on a space fails because the space server fails, the clustered proxy tries to locate another space in the failover group and redirect the operation to it, subject to the failover policy defined. An exception is operations that are performed under a transaction; in this case, the clustered proxy aborts the transaction and throws an exception to the application. In this case, the application should start a new transaction, perform the operations again and re-commit.<br/>
To enable the <b>Fail Over</b> panel, check the <b>Fail Over</b> box in the <b>Cluster Options</b> panel.</p>

<p><img src="download/attachments/53903445/IMG501.jpg" align="absmiddle" border="0"/></p>

<p>For more details see the Cluster Configuration section &#42;** .</p>

<p>The <b>Policy</b> tab of the <b>Fail Over</b> pane, shown above, allows you to define under which circumstances failover within the group should take place.<br/>
Failover policies are defined per operation: <b>Write, Read, Take</b> and <b>Notify</b>. In the policy table, select the <b>Enable</b> check-box next to an operation's name to turn on failover for that operation. For example, if you select the check-box for Write, all write operations made on a failed space will be transparently routed to a live space in the group. If you do not select this check-box, write operations made on a failed space will not be routed.<br/>
The above is only true if you do not select the <b>Default</b> check-box. This row in the policy table has a special function: If you select it, operations you did not explicitly enable will assume the failover policy defined under <b>Default</b> (instead of having no failover policy at all). This is done in the same way as defining a failover policy for a specific operation, as explained below.<br/>
The <b>Policy Type</b> column is a drop-down menu that allows you to specify how failover should occur for a specific operation:</p>
<ul>
	<li><b>Fail to Available</b> - specifies that if a space is down, the operation should be routed to a live space in the group, according to the load-balancing policy.</li>
	<li><b>Fail to Backup</b> - specifies that if a space is down, the operation will only be routed to one of the spaces in the internal tab Backup Members below. Note that there is a separate <b>Backup Members</b> tab for each operation - <b>Default, Write, Take</b> and <b>Notify</b> (and <b>Default</b>, which applies to operations you did not explicitly define).</li>
	<li>Immediately Fail to Alternate - specifies that if a space is down, the operation should be routed to an available space in one of the alternate groups, defined in the <b>Alternate Groups</b> tab, described later.</li>
</ul>


<p><img src="download/attachments/53903445/IMG502.jpg" align="absmiddle" border="0"/></p>

<p>The <b>Backup Members</b> tab, shown above, allows you to define a set of spaces that should be used for failover in case of a specific operation (or Default). It is only enabled if you select Fail to Backup as the failover policy of the operation.<br/>
The group shown in the Edit Cluster Group dialog above has three spaces: sp1, sp2 and sp3. The <b>Backup Members</b> tab for the write operation has sp2 defined as a backup member of sp1. This means that if sp1 fails, operations are routed to sp2 and not to sp3.<br/>
This partial failover configuration is useful if you want to guarantee high performance for spaces with a high workload.<br/>
The opposite configuration is also possible - you can designate spaces that will be dedicated to failover. This will guarantee performance in case of a space failure. This is done using the Backup Only tab, which is also defined per operation, as an internal tab of the operation tab.<br/>
<b>To specify and prioritize backup members for a specific operation:</b></p>
<ol>
	<li>In the Edit Cluster Group dialog, click the <b>Fail Over</b> tab, then the internal tab Policy Description.</li>
	<li>Make sure the operation you want to work on is enabled, and that its policy is set to <b>Fail to Backup</b>. Click on its tab within Policy Description.</li>
	<li>Click the <b>Backup Members</b> tab, and press Add. A new row is created in the Members table.</li>
	<li>Click the <b>Member Name</b> column to open the drop-down menu, and select the name of the space for which you want to define backup members. If this space fails, connections will be routed to the backup members.</li>
	<li>Click the <b>Backup Members</b> column. The <b>Define backup members</b> dialog opens, allowing you to select backup members from the spaces in the group. Do not select all the spaces in the group, because this is the same as not defining backup members at all.</li>
	<li>If you add more than one space, you can prioritize backup members by selecting them and clicking the up/down arrows at the right of the dialog. The higher a space appears in the list of backup members, the higher its priority. If the focal space fails, and more than one backup member is available, the operation is routed to the member with the highest priority.</li>
	<li>When you are done selecting and prioritizing backup members, press <b>OK</b> in the <b>Define backup members</b> dialog.</li>
	<li>Repeat steps 3-7 to define backup members for other spaces in the group. You do not have to define backup members for all spaces - keep in mind that the default action is failover to all spaces.</li>
	<li>Click the <b>Backup Only</b> tab. This tab allows you to specify that a space, which serves as a backup member be dedicated to this function. "Backup only" spaces are not used for anything other than routed failover operations.</li>
	<li>The spaces shown here are all the backup members defined previously, but excluding the spaces for which backup members were defined. Select the <b>Enabled</b> check-box next to the name of a space to specify that this space should only be used for routed failover operations.
<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>Before setting a space as "backup only," make sure that it is not needed in the cluster's normal operations. Once you set a space to "backup only," the cluster proxy will stop routing operations to it (until another space fails).</td></tr></table></div></li>
</ol>


<p>The Alternate Groups tab within the <b>Fail Over</b> tab, shown above, allows you to define one or more alternate groups. These groups serve as backups for the focal group (the group you are defining in the Edit Cluster Group dialog). In other words, if all spaces in the focal group fail, the cluster proxy routes the operation to an available space in one of the alternate groups.<br/>
Select a group and use the right arrow to move it to the <b>Selected Items</b> box. This specifies that it should backup the group being edited.<br/>
If you add more than one alternate group, you can prioritize it using the up/down arrows at the right of the dialog. The higher a group appears in the list, the higher its priority. If all spaces in the focal group fail, and more than one alternate group is available, the operation will be routed to an available space in the group that has the highest priority.<br/>
Find Timeout Msec is the amount of time the cluster proxy waits, after receiving no reply from an alternate group, before deciding it is unavailable and trying another one (or giving up, if there are no more alternate groups).<br/>
The alternate groups defined here are relevant not only when all of the focal group's spaces fail. They are also used if you specify a policy type of Immediately Fail to Alternate for a certain operation. Use the internal tab Policy Description to set policy types for specific operations.<br/>
To apply cluster group definitions, click <b>Create</b> to return to the Create Groups window.<br/>
For more details see the Cluster configuration section&#42;** .</p>

<p>***Link required </p>

                     </td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td height="12" background="http://www.gigaspaces.com/wiki/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
</tr>
<tr>
<td align="center"><font color="grey"><a href="http://www.gigaspaces.com">GigaSpaces.com</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xwBmAg" class="smalltext">Legal Notice</a> -
		<a href="http://www.gigaspaces.com/wiki/x/xgBmAg" class="smalltext">3rd Party Licenses</a> -
		<a href="http://www.gigaspaces.com/wiki/x/BQFmAg" class="smalltext">Site Map</a> -
		<a href="http://www.gigaspaces.com/wiki/display/API/API+Documentation+Portal" class="version-link">API Docs</a> -
		<a href="http://forum.openspaces.org/forum.jspa?forumID=175" class="version-link">Forum</a> -
		<a href="http://www.gigaspaces.com/LatestProductVersion" class="version-link">Downloads</a> -
		<a href="http://blog.gigaspaces.com/" class="version-link">Blog</a> -
		<a href="http://www.gigaspaces.com/os_papers.html" class="version-link">White Papers</a> -
		<a href="mailto:techw@gigaspaces.com">Contact Tech Writing</a> -
		<i><a href="http://www.atlassian.com/software/confluence">Gen. by Atlassian Confluence</a></i></font></td>
</tr>
</table>
     </body>
</html>
